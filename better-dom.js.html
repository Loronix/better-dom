<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: better-dom.js</title>
    
    
    
    
    
    <meta property="og:title" content="Live extension playground"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://avatars2.githubusercontent.com/u/7883192?v=2&amp;s=400"/>
    <meta property="og:site_name" content="better-dom"/>
    <meta property="og:url" content="https://github.com/chemerisuk/better-dom"/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"default":{"outputSourceFiles":true},"monospaceLinks":true,"cleverLinks":true,"linenums":true,"applicationName":"better-dom","disqus":"better-dom","googleAnalytics":"","openGraph":{"title":"Live extension playground","type":"website","image":"https://avatars2.githubusercontent.com/u/7883192?v=2&amp;s=400","site_name":"better-dom","url":"https://github.com/chemerisuk/better-dom"},"meta":{"title":"","description":"","keyword":""}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">better-dom</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="DOM">
            <span class="title">
                <a href="DOM.html">DOM</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="DOM.constructor"><a href="DOM.html#constructor">constructor</a></li>
            
                <li data-name="DOM.create"><a href="DOM.html#create">create</a></li>
            
                <li data-name="DOM.createAll"><a href="DOM.html#createAll">createAll</a></li>
            
                <li data-name="DOM.emmet"><a href="DOM.html#emmet">emmet</a></li>
            
                <li data-name="DOM.extend"><a href="DOM.html#extend">extend</a></li>
            
                <li data-name="DOM.format"><a href="DOM.html#format">format</a></li>
            
                <li data-name="DOM.importScripts"><a href="DOM.html#importScripts">importScripts</a></li>
            
                <li data-name="DOM.importStyles"><a href="DOM.html#importStyles">importStyles</a></li>
            
                <li data-name="DOM.mock"><a href="DOM.html#mock">mock</a></li>
            
                <li data-name="DOM.mockAll"><a href="DOM.html#mockAll">mockAll</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="$Element">
            <span class="title">
                <a href="$Element.html">$Element</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="$Element#addClass"><a href="$Element.html#addClass">addClass</a></li>
            
                <li data-name="$Element#after"><a href="$Element.html#after">after</a></li>
            
                <li data-name="$Element#append"><a href="$Element.html#append">append</a></li>
            
                <li data-name="$Element#before"><a href="$Element.html#before">before</a></li>
            
                <li data-name="$Element#child"><a href="$Element.html#child">child</a></li>
            
                <li data-name="$Element#children"><a href="$Element.html#children">children</a></li>
            
                <li data-name="$Element#clone"><a href="$Element.html#clone">clone</a></li>
            
                <li data-name="$Element#closest"><a href="$Element.html#closest">closest</a></li>
            
                <li data-name="$Element#contains"><a href="$Element.html#contains">contains</a></li>
            
                <li data-name="$Element#css"><a href="$Element.html#css">css</a></li>
            
                <li data-name="$Element#find"><a href="$Element.html#find">find</a></li>
            
                <li data-name="$Element#findAll"><a href="$Element.html#findAll">findAll</a></li>
            
                <li data-name="$Element#fire"><a href="$Element.html#fire">fire</a></li>
            
                <li data-name="$Element#get"><a href="$Element.html#get">get</a></li>
            
                <li data-name="$Element#hasClass"><a href="$Element.html#hasClass">hasClass</a></li>
            
                <li data-name="$Element#hide"><a href="$Element.html#hide">hide</a></li>
            
                <li data-name="$Element#matches"><a href="$Element.html#matches">matches</a></li>
            
                <li data-name="$Element#next"><a href="$Element.html#next">next</a></li>
            
                <li data-name="$Element#nextAll"><a href="$Element.html#nextAll">nextAll</a></li>
            
                <li data-name="$Element#offset"><a href="$Element.html#offset">offset</a></li>
            
                <li data-name="$Element#on"><a href="$Element.html#on">on</a></li>
            
                <li data-name="$Element#once"><a href="$Element.html#once">once</a></li>
            
                <li data-name="$Element#prepend"><a href="$Element.html#prepend">prepend</a></li>
            
                <li data-name="$Element#prev"><a href="$Element.html#prev">prev</a></li>
            
                <li data-name="$Element#prevAll"><a href="$Element.html#prevAll">prevAll</a></li>
            
                <li data-name="$Element#remove"><a href="$Element.html#remove">remove</a></li>
            
                <li data-name="$Element#removeClass"><a href="$Element.html#removeClass">removeClass</a></li>
            
                <li data-name="$Element#replace"><a href="$Element.html#replace">replace</a></li>
            
                <li data-name="$Element#set"><a href="$Element.html#set">set</a></li>
            
                <li data-name="$Element#show"><a href="$Element.html#show">show</a></li>
            
                <li data-name="$Element#toggle"><a href="$Element.html#toggle">toggle</a></li>
            
                <li data-name="$Element#toggleClass"><a href="$Element.html#toggleClass">toggleClass</a></li>
            
                <li data-name="$Element#unwatch"><a href="$Element.html#unwatch">unwatch</a></li>
            
                <li data-name="$Element#watch"><a href="$Element.html#watch">watch</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="better-dom.js.html">Source: better-dom.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file better-dom.js
 * @overview better-dom: Live extension playground
 * @version 2.0.0-rc.6 Thu, 02 Oct 2014 15:23:52 GMT
 * @copyright 2013-2014 Maksim Chemerisuk
 * @license MIT
 * @see https://github.com/chemerisuk/better-dom
 */
(function() {
    "use strict";var SLICE$0 = Array.prototype.slice;
    var $Users$chemerisuk$git$better$dom$src$const$$WINDOW = window;
    var $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT = $Users$chemerisuk$git$better$dom$src$const$$WINDOW.document;
    var $Users$chemerisuk$git$better$dom$src$const$$HTML = $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.documentElement;

    var $Users$chemerisuk$git$better$dom$src$const$$userAgent = $Users$chemerisuk$git$better$dom$src$const$$WINDOW.navigator.userAgent;

    var $Users$chemerisuk$git$better$dom$src$const$$LEGACY_IE = $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.attachEvent &amp;&amp; !$Users$chemerisuk$git$better$dom$src$const$$WINDOW.CSSKeyframesRule;
    var $Users$chemerisuk$git$better$dom$src$const$$LEGACY_ANDROID = ~$Users$chemerisuk$git$better$dom$src$const$$userAgent.indexOf("Android") &amp;&amp; $Users$chemerisuk$git$better$dom$src$const$$userAgent.indexOf("Chrome") &lt; 0;
    var $Users$chemerisuk$git$better$dom$src$const$$DOM2_EVENTS = !!$Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.addEventListener;
    var $Users$chemerisuk$git$better$dom$src$const$$WEBKIT_PREFIX = $Users$chemerisuk$git$better$dom$src$const$$WINDOW.WebKitAnimationEvent ? "-webkit-" : "";
    var $Users$chemerisuk$git$better$dom$src$const$$CUSTOM_EVENT_TYPE = "dataavailable";

    function $Users$chemerisuk$git$better$dom$src$errors$$MethodError(methodName) {var type = arguments[1];if(type === void 0)type = "$Element";
        var url = "http://chemerisuk.github.io/better-dom/" + type + ".html#" + methodName;

        this.message = type + "#" + methodName + " was called with illegal arguments. Check " + url + " to verify the method call";
    }

    $Users$chemerisuk$git$better$dom$src$errors$$MethodError.prototype = new TypeError();

    function $Users$chemerisuk$git$better$dom$src$errors$$StaticMethodError(methodName) {
        $Users$chemerisuk$git$better$dom$src$errors$$MethodError.call(this, methodName, "DOM");
    }

    $Users$chemerisuk$git$better$dom$src$errors$$StaticMethodError.prototype = new TypeError();

    function $Users$chemerisuk$git$better$dom$src$types$$$NullElement() {}

    /**
     * Used to represent a DOM element
     * @class $Element
     */
    function $Users$chemerisuk$git$better$dom$src$types$$$Element(node) {
        if (this instanceof $Users$chemerisuk$git$better$dom$src$types$$$Element) {
            if (node) {
                this[0] = node;
                this._ = { _handlers: [], _watchers: {} };
                // use a generated on compile time property to store
                // a reference to the wrapper for circular binding
                node["__2000000-rc006__"] = this;
            }
        } else if (node) {
            var cached = node["__2000000-rc006__"];
            // create a wrapper only once for each native element
            return cached ? cached : new $Users$chemerisuk$git$better$dom$src$types$$$Element(node);
        } else {
            return new $Users$chemerisuk$git$better$dom$src$types$$$NullElement();
        }
    }

    $Users$chemerisuk$git$better$dom$src$types$$$Element.prototype = {
        /**
         * Create a {@link $Element} for a native DOM element
         * @memberof DOM
         * @alias DOM.constructor
         * @param {Object}  [node]  native element
         * @return {$Element} a wrapper object
         * @example
         * var bodyEl = DOM.constructor(document.body);
         * // bodyEl is an instance of $Element
         * bodyEl.hide();
         */
        constructor: function(node) {
            // filter non elements like text nodes, comments etc.
            return $Users$chemerisuk$git$better$dom$src$types$$$Element(node &amp;&amp; node.nodeType === 1 ? node : null);
        },
        toString: function() {
            var node = this[0];

            return node ? node.tagName.toLowerCase() : "";
        },
        valueOf: function() {
            return "2000000-rc006";
        }
    };

    $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype = new $Users$chemerisuk$git$better$dom$src$types$$$Element();

    /**
     * Global object to access the DOM
     * @namespace DOM
     * @extends $Element
     */
    var $Users$chemerisuk$git$better$dom$src$types$$DOM = new $Users$chemerisuk$git$better$dom$src$types$$$Element($Users$chemerisuk$git$better$dom$src$const$$HTML);

    var $Users$chemerisuk$git$better$dom$src$exports$$_DOM = $Users$chemerisuk$git$better$dom$src$const$$WINDOW.DOM;

    $Users$chemerisuk$git$better$dom$src$types$$DOM.noConflict = function() {
        if ($Users$chemerisuk$git$better$dom$src$const$$WINDOW.DOM === $Users$chemerisuk$git$better$dom$src$types$$DOM) {
            $Users$chemerisuk$git$better$dom$src$const$$WINDOW.DOM = $Users$chemerisuk$git$better$dom$src$exports$$_DOM;
        }

        return $Users$chemerisuk$git$better$dom$src$types$$DOM;
    };

    $Users$chemerisuk$git$better$dom$src$const$$WINDOW.DOM = $Users$chemerisuk$git$better$dom$src$types$$DOM;

    /* es6-transpiler has-iterators:false, has-generators: false */

    var // operator type / priority object
        $Users$chemerisuk$git$better$dom$src$dom$emmet$$operators = {"(": 1,")": 2,"^": 3,">": 4,"+": 5,"*": 6,"`": 7,"[": 8,".": 8,"#": 8},
        $Users$chemerisuk$git$better$dom$src$dom$emmet$$reParse = /`[^`]*`|\[[^\]]*\]|\.[^()>^+*`[#]+|[^()>^+*`[#.]+|\^+|./g,
        $Users$chemerisuk$git$better$dom$src$dom$emmet$$reAttr = /\s*([\w\-]+)(?:=((?:`([^`]*)`)|[^\s]*))?/g,
        $Users$chemerisuk$git$better$dom$src$dom$emmet$$reIndex = /(\$+)(?:@(-)?(\d+)?)?/g,
        $Users$chemerisuk$git$better$dom$src$dom$emmet$$reDot = /\./g,
        $Users$chemerisuk$git$better$dom$src$dom$emmet$$reDollar = /\$/g,
        $Users$chemerisuk$git$better$dom$src$dom$emmet$$tagCache = {"": ""},
        $Users$chemerisuk$git$better$dom$src$dom$emmet$$normalizeAttrs = function(_, name, value, rawValue)  {
            // try to detemnie which kind of quotes to use
            var quote = value &amp;&amp; value.indexOf("\"") >= 0 ? "'" : "\"";

            if (typeof rawValue === "string") {
                // grab unquoted value for smart quotes
                value = rawValue;
            } else if (typeof value !== "string") {
                // handle boolean attributes by using name as value
                value = name;
            }
            // always wrap attribute values with quotes even they don't exist
            return " " + name + "=" + quote + value + quote;
        },
        $Users$chemerisuk$git$better$dom$src$dom$emmet$$injectTerm = function(term, end)  {return function(html)  {
            // find index of where to inject the term
            var index = end ? html.lastIndexOf("&lt;") : html.indexOf(">");
            // inject the term into the HTML string
            return html.substr(0, index) + term + html.substr(index);
        }},
        $Users$chemerisuk$git$better$dom$src$dom$emmet$$makeTerm = function(tag)  {
            return $Users$chemerisuk$git$better$dom$src$dom$emmet$$tagCache[tag] || ($Users$chemerisuk$git$better$dom$src$dom$emmet$$tagCache[tag] = "&lt;" + tag + ">&lt;/" + tag + ">");
        },
        $Users$chemerisuk$git$better$dom$src$dom$emmet$$makeIndexedTerm = function(n, term)  {
            var result = Array(n), i;

            for (i = 0; i &lt; n; ++i) {
                result[i] = term.replace($Users$chemerisuk$git$better$dom$src$dom$emmet$$reIndex, function(expr, fmt, sign, base)  {
                    var index = (sign ? n - i - 1 : i) + (base ? +base : 1);
                    // handle zero-padded index values, like $$$ etc.
                    return (fmt + index).slice(-fmt.length).replace($Users$chemerisuk$git$better$dom$src$dom$emmet$$reDollar, "0");
                });
            }

            return result;
        };

    // populate empty tag names with result
    "area base br col hr img input link meta param command keygen source".split(" ").forEach(function(tag)  {
        $Users$chemerisuk$git$better$dom$src$dom$emmet$$tagCache[tag] = "&lt;" + tag + ">";
    });

    /**
     * Parse emmet-like template and return resulting HTML string
     * @memberof DOM
     * @alias DOM.emmet
     * @param  {String}       template  input EmmetString
     * @param  {Object|Array} [varMap]  key/value map of variables
     * @return {String} a resulting HTML string
     * @see https://github.com/chemerisuk/better-dom/wiki/Microtemplating
     * @see http://docs.emmet.io/cheat-sheet/
     * @example
     * DOM.emmet("a");                                    // => "&lt;a>&lt;/a>"
     * DOM.emmet("ul>li*2");                              // => "&lt;ul>&lt;li>&lt;/li>&lt;li>&lt;/li>&lt;/ul>"
     * DOM.emmet("b>`hello {user}`", {user: "world"});    // => "&lt;b>hello world&lt;/b>
     * DOM.emmet("i.{0}+span", ["icon"]);                 // => "&lt;i class="icon">&lt;/i&amp;gt&lt;span>&lt;/span>"
     * DOM.emmet("i.{a}>span#{b}", {a: "foo", b: "bar"}); // => "&lt;i class="foo">&lt;span id="bar">&lt;/span>&lt;/i>"
     */
    $Users$chemerisuk$git$better$dom$src$types$$DOM.emmet = function(template, varMap) {var $D$0;var $D$1;var $D$2;
        if (typeof template !== "string") throw new $Users$chemerisuk$git$better$dom$src$errors$$StaticMethodError("emmet");

        if (varMap) template = $Users$chemerisuk$git$better$dom$src$types$$DOM.format(template, varMap);

        if (template in $Users$chemerisuk$git$better$dom$src$dom$emmet$$tagCache) {return $Users$chemerisuk$git$better$dom$src$dom$emmet$$tagCache[template];}

        // transform template string into RPN

        var stack = [], output = [];

        $D$2 = (template.match($Users$chemerisuk$git$better$dom$src$dom$emmet$$reParse));$D$0 = 0;$D$1 = $D$2.length;for (var str ;$D$0 &lt; $D$1;){str = ($D$2[$D$0++]);
            var op = str[0];
            var priority = $Users$chemerisuk$git$better$dom$src$dom$emmet$$operators[op];

            if (priority) {
                if (str !== "(") {
                    // for ^ operator need to skip > str.length times
                    for (var i = 0, n = (op === "^" ? str.length : 1); i &lt; n; ++i) {
                        while (stack[0] !== op &amp;&amp; $Users$chemerisuk$git$better$dom$src$dom$emmet$$operators[stack[0]] >= priority) {
                            var head = stack.shift();

                            output.push(head);
                            // for ^ operator stop shifting when the first > is found
                            if (op === "^" &amp;&amp; head === ">") break;
                        }
                    }
                }

                if (str === ")") {
                    stack.shift(); // remove "(" symbol from stack
                } else {
                    // handle values inside of `...` and [...] sections
                    if (op === "[" || op === "`") {
                        output.push(str.slice(1, -1));
                    }
                    // handle multiple classes, e.g. a.one.two
                    if (op === ".") {
                        output.push(str.substr(1).replace($Users$chemerisuk$git$better$dom$src$dom$emmet$$reDot, " "));
                    }

                    stack.unshift(op);
                }
            } else {
                output.push(str);
            }
        };$D$0 = $D$1 = $D$2 = void 0;

        output = output.concat(stack);

        // transform RPN into html nodes

        stack = [];

        $D$0 = 0;$D$1 = output.length;for (var str$0 ;$D$0 &lt; $D$1;){str$0 = (output[$D$0++]);
            if (str$0 in $Users$chemerisuk$git$better$dom$src$dom$emmet$$operators) {
                var value = stack.shift();
                var node = stack.shift();

                if (typeof node === "string") {
                    node = [ $Users$chemerisuk$git$better$dom$src$dom$emmet$$makeTerm(node) ];
                }

                switch(str$0) {
                case ".":
                    value = $Users$chemerisuk$git$better$dom$src$dom$emmet$$injectTerm(" class=\"" + value + "\"");
                    break;

                case "#":
                    value = $Users$chemerisuk$git$better$dom$src$dom$emmet$$injectTerm(" id=\"" + value + "\"");
                    break;

                case "[":
                    value = $Users$chemerisuk$git$better$dom$src$dom$emmet$$injectTerm(value.replace($Users$chemerisuk$git$better$dom$src$dom$emmet$$reAttr, $Users$chemerisuk$git$better$dom$src$dom$emmet$$normalizeAttrs));
                    break;

                case "*":
                    node = $Users$chemerisuk$git$better$dom$src$dom$emmet$$makeIndexedTerm(+value, node.join(""));
                    break;

                case "`":
                    stack.unshift(node);
                    node = [ value ];
                    break;

                default: /* ">", "+", "^" */
                    value = typeof value === "string" ? $Users$chemerisuk$git$better$dom$src$dom$emmet$$makeTerm(value) : value.join("");

                    if (str$0 === ">") {
                        value = $Users$chemerisuk$git$better$dom$src$dom$emmet$$injectTerm(value, true);
                    } else {
                        node.push(value);
                    }
                }

                str$0 = typeof value === "function" ? node.map(value) : node;
            }

            stack.unshift(str$0);
        };$D$0 = $D$1 = void 0;

        if (output.length === 1) {
            // handle single tag case
            output = $Users$chemerisuk$git$better$dom$src$dom$emmet$$makeTerm(stack[0]);
        } else {
            output = stack[0].join("");
        }

        return output;
    };

    var $Users$chemerisuk$git$better$dom$src$dom$emmet$$default = $Users$chemerisuk$git$better$dom$src$dom$emmet$$tagCache;

    var $Users$chemerisuk$git$better$dom$src$dom$create$$sandbox = $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.createElement("body"),
        $Users$chemerisuk$git$better$dom$src$dom$create$$makeMethod = function(all)  {return function(value, varMap) {
            var nodes, el;

            if (value &amp;&amp; value in $Users$chemerisuk$git$better$dom$src$dom$emmet$$default) {
                nodes = $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.createElement(value);

                if (all) nodes = [ new $Users$chemerisuk$git$better$dom$src$types$$$Element(nodes) ];
            } else {
                value = value.trim();

                if (value[0] === "&lt;" &amp;&amp; value[value.length - 1] === ">") {
                    value = varMap ? $Users$chemerisuk$git$better$dom$src$types$$DOM.format(value, varMap) : value;
                } else {
                    value = $Users$chemerisuk$git$better$dom$src$types$$DOM.emmet(value, varMap);
                }

                $Users$chemerisuk$git$better$dom$src$dom$create$$sandbox.innerHTML = value; // parse input HTML string

                for (nodes = all ? [] : null; el = $Users$chemerisuk$git$better$dom$src$dom$create$$sandbox.firstChild; ) {
                    $Users$chemerisuk$git$better$dom$src$dom$create$$sandbox.removeChild(el); // detach element from the sandbox

                    if (el.nodeType === 1) {
                        if (all) {
                            nodes.push(new $Users$chemerisuk$git$better$dom$src$types$$$Element(el));
                        } else {
                            nodes = el;

                            break; // stop early, because need only the first element
                        }
                    }
                }
            }

            return all ? nodes : $Users$chemerisuk$git$better$dom$src$types$$$Element(nodes);
        }};

    /**
     * Create a new {@link $Element} from Emmet or HTML string
     * @memberof DOM
     * @alias DOM.create
     * @param  {String}       value     Emmet or HTML string
     * @param  {Object|Array} [varMap]  key/value map of variables
     * @return {$Element} an element wrapper
     * @function
     * @example
     * DOM.create("div");                  // => wrapper of &lt;div>
     * DOM.create("span>`{0}`", ["foo"]);  // => wrapper of &lt;span>foo&lt;/span>
     * DOM.create("&lt;a>&lt;span>&lt;/span>&lt;/a>"); // => wrapper of &lt;a> + innner &lt;span>
     */
    $Users$chemerisuk$git$better$dom$src$types$$DOM.create = $Users$chemerisuk$git$better$dom$src$dom$create$$makeMethod("");

    /**
     * Create a new array of {@link $Element}s from Emmet or HTML string
     * @memberof DOM
     * @alias DOM.createAll
     * @param  {String}       value     Emmet or HTML string
     * @param  {Object|Array} [varMap]  key/value map of variables
     * @return {Array.&lt;$Element>} an array of element wrappers
     * @function
     * @example
     * DOM.createAll("li*5");                 // => array with 5 &lt;li> $Elements
     * DOM.createAll("&lt;span>&lt;/span>&lt;b>&lt;/b>"); // => array with 2 $Elements: &lt;span> and &lt;b>
     */
    $Users$chemerisuk$git$better$dom$src$types$$DOM.createAll = $Users$chemerisuk$git$better$dom$src$dom$create$$makeMethod("All");

    var $Users$chemerisuk$git$better$dom$src$util$index$$arrayProto = Array.prototype,
        $Users$chemerisuk$git$better$dom$src$util$index$$currentScript = $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.scripts[0];

    var $Users$chemerisuk$git$better$dom$src$util$index$$default = {
        computeStyle: function(node)  {
            return $Users$chemerisuk$git$better$dom$src$const$$WINDOW.getComputedStyle ? $Users$chemerisuk$git$better$dom$src$const$$WINDOW.getComputedStyle(node) : node.currentStyle;
        },
        injectElement: function(el)  {
            return $Users$chemerisuk$git$better$dom$src$util$index$$currentScript.parentNode.insertBefore(el, $Users$chemerisuk$git$better$dom$src$util$index$$currentScript);
        },
        // utilites
        every: $Users$chemerisuk$git$better$dom$src$util$index$$arrayProto.every,
        each: $Users$chemerisuk$git$better$dom$src$util$index$$arrayProto.forEach,
        filter: $Users$chemerisuk$git$better$dom$src$util$index$$arrayProto.filter,
        map: $Users$chemerisuk$git$better$dom$src$util$index$$arrayProto.map,
        isArray: Array.isArray,
        keys: Object.keys,
        assign: function(target, source)  {
            Object.keys(source).forEach(function(key)  {
                target[key] = source[key];
            });

            return target;
        },
        safeInvoke: function(fn, context, arg1, arg2)  {
            try {
                fn.call(context, arg1, arg2);
            } catch (err) {
                $Users$chemerisuk$git$better$dom$src$const$$WINDOW.setTimeout(function()  { throw err }, 1);
            }
        }
    };

    /*
     * Helper for accessing css properties
     */
    var $Users$chemerisuk$git$better$dom$src$util$stylehooks$$hooks = {get: {}, set: {}},
        $Users$chemerisuk$git$better$dom$src$util$stylehooks$$reDash = /\-./g,
        $Users$chemerisuk$git$better$dom$src$util$stylehooks$$reCamel = /[A-Z]/g,
        $Users$chemerisuk$git$better$dom$src$util$stylehooks$$directions = ["Top", "Right", "Bottom", "Left"],
        $Users$chemerisuk$git$better$dom$src$util$stylehooks$$computed = $Users$chemerisuk$git$better$dom$src$util$index$$default.computeStyle($Users$chemerisuk$git$better$dom$src$const$$HTML),
        // In Opera CSSStyleDeclaration objects returned by _.computeStyle have length 0
        $Users$chemerisuk$git$better$dom$src$util$stylehooks$$props = $Users$chemerisuk$git$better$dom$src$util$stylehooks$$computed.length ? Array.prototype.slice.call($Users$chemerisuk$git$better$dom$src$util$stylehooks$$computed, 0) : $Users$chemerisuk$git$better$dom$src$util$index$$default.keys($Users$chemerisuk$git$better$dom$src$util$stylehooks$$computed).map(function(key)  {
            return key.replace($Users$chemerisuk$git$better$dom$src$util$stylehooks$$reCamel, function(str)  {return "-" + str.toLowerCase()});
        }),
        $Users$chemerisuk$git$better$dom$src$util$stylehooks$$shortCuts = {
            font: ["fontStyle", "fontSize", "/", "lineHeight", "fontFamily"],
            padding: $Users$chemerisuk$git$better$dom$src$util$stylehooks$$directions.map(function(dir)  {return "padding" + dir}),
            margin: $Users$chemerisuk$git$better$dom$src$util$stylehooks$$directions.map(function(dir)  {return "margin" + dir}),
            "border-width": $Users$chemerisuk$git$better$dom$src$util$stylehooks$$directions.map(function(dir)  {return "border" + dir + "Width"}),
            "border-style": $Users$chemerisuk$git$better$dom$src$util$stylehooks$$directions.map(function(dir)  {return "border" + dir + "Style"})
        };

    $Users$chemerisuk$git$better$dom$src$util$stylehooks$$props.forEach(function(propName)  {
        var prefix = propName[0] === "-" ? propName.substr(1, propName.indexOf("-", 1) - 1) : null,
            unprefixedName = prefix ? propName.substr(prefix.length + 2) : propName,
            stylePropName = propName.replace($Users$chemerisuk$git$better$dom$src$util$stylehooks$$reDash, function(str)  {return str[1].toUpperCase()});
        // most of browsers starts vendor specific props in lowercase
        if (!(stylePropName in $Users$chemerisuk$git$better$dom$src$util$stylehooks$$computed)) {
            stylePropName = stylePropName[0].toLowerCase() + stylePropName.substr(1);
        }

        $Users$chemerisuk$git$better$dom$src$util$stylehooks$$hooks.get[unprefixedName] = function(style)  {return style[stylePropName]};
        $Users$chemerisuk$git$better$dom$src$util$stylehooks$$hooks.set[unprefixedName] = function(style, value)  {
            value = typeof value === "number" ? value + "px" : value.toString();
            // use cssText property to determine DOM.importStyles call
            style["cssText" in style ? stylePropName : propName] = value;
        };
    });

    // Exclude the following css properties from adding px
    " float fill-opacity font-weight line-height opacity orphans widows z-index zoom ".split(" ").forEach(function(propName)  {
        var stylePropName = propName.replace($Users$chemerisuk$git$better$dom$src$util$stylehooks$$reDash, function(str)  {return str[1].toUpperCase()});

        if (propName === "float") {
            stylePropName = "cssFloat" in $Users$chemerisuk$git$better$dom$src$util$stylehooks$$computed ? "cssFloat" : "styleFloat";
            // normalize float css property
            $Users$chemerisuk$git$better$dom$src$util$stylehooks$$hooks.get[propName] = function(style)  {return style[stylePropName]};
        }

        $Users$chemerisuk$git$better$dom$src$util$stylehooks$$hooks.set[propName] = function(style, value)  {
            style["cssText" in style ? stylePropName : propName] = value.toString();
        };
    });

    // normalize property shortcuts
    $Users$chemerisuk$git$better$dom$src$util$index$$default.keys($Users$chemerisuk$git$better$dom$src$util$stylehooks$$shortCuts).forEach(function(key)  {
        var props = $Users$chemerisuk$git$better$dom$src$util$stylehooks$$shortCuts[key];

        $Users$chemerisuk$git$better$dom$src$util$stylehooks$$hooks.get[key] = function(style)  {
            var result = [],
                hasEmptyStyleValue = function(prop, index)  {
                    result.push(prop === "/" ? prop : style[prop]);

                    return !result[index];
                };

            return props.some(hasEmptyStyleValue) ? "" : result.join(" ");
        };

        $Users$chemerisuk$git$better$dom$src$util$stylehooks$$hooks.set[key] = function(style, value)  {
            if (value &amp;&amp; "cssText" in style) {
                // normalize setting complex property across browsers
                style.cssText += ";" + key + ":" + value;
            } else {
                props.forEach(function(name)  {return style[name] = typeof value === "number" ? value + "px" : value.toString()});
            }
        };
    });

    var $Users$chemerisuk$git$better$dom$src$util$stylehooks$$default = $Users$chemerisuk$git$better$dom$src$util$stylehooks$$hooks;

    var $Users$chemerisuk$git$better$dom$src$dom$importstyles$$styleNode = $Users$chemerisuk$git$better$dom$src$util$index$$default.injectElement($Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.createElement("style")),
        $Users$chemerisuk$git$better$dom$src$dom$importstyles$$styleSheet = $Users$chemerisuk$git$better$dom$src$dom$importstyles$$styleNode.sheet || $Users$chemerisuk$git$better$dom$src$dom$importstyles$$styleNode.styleSheet,
        $Users$chemerisuk$git$better$dom$src$dom$importstyles$$styleRules = $Users$chemerisuk$git$better$dom$src$dom$importstyles$$styleSheet.cssRules || $Users$chemerisuk$git$better$dom$src$dom$importstyles$$styleSheet.rules;

    /**
     * Append global css styles
     * @memberof DOM
     * @alias DOM.importStyles
     * @param {String}         selector  css selector
     * @param {String|Object}  cssText   css rules
     * @example
     * DOM.importStyles(".foo", {color: "red", padding: 5});
     * // you can use strings CSS too
     * DOM.importStyles(".bar", "background: white; color: gray");
     */
    $Users$chemerisuk$git$better$dom$src$types$$DOM.importStyles = function(selector, cssText) {
        if (cssText &amp;&amp; typeof cssText === "object") {
            // use styleObj to collect all style props for a new CSS rule
            var styleObj = $Users$chemerisuk$git$better$dom$src$util$index$$default.keys(cssText).reduce(function(styleObj, prop)  {
                var hook = $Users$chemerisuk$git$better$dom$src$util$stylehooks$$default.set[prop];

                if (hook) {
                    hook(styleObj, cssText[prop]);
                } else {
                    styleObj[prop] = cssText[prop];
                }

                return styleObj;
            }, {});

            cssText = $Users$chemerisuk$git$better$dom$src$util$index$$default.keys(styleObj).map(function(key)  {return key + ":" + styleObj[key]}).join(";");
        }

        if (typeof selector !== "string" || typeof cssText !== "string") {
            throw new $Users$chemerisuk$git$better$dom$src$errors$$StaticMethodError("importStyles");
        }

        if ($Users$chemerisuk$git$better$dom$src$dom$importstyles$$styleSheet.cssRules) {
            $Users$chemerisuk$git$better$dom$src$dom$importstyles$$styleSheet.insertRule(selector + "{" + cssText + "}", $Users$chemerisuk$git$better$dom$src$dom$importstyles$$styleRules.length);
        } else {
            // ie doesn't support multiple selectors in addRule
            selector.split(",").forEach(function(selector)  { $Users$chemerisuk$git$better$dom$src$dom$importstyles$$styleSheet.addRule(selector, cssText) });
        }
    };

    var $Users$chemerisuk$git$better$dom$src$dom$importstyles$$default = $Users$chemerisuk$git$better$dom$src$types$$DOM.importStyles;

    /*
     * Helper for css selectors
     */

    /*es6-transpiler has-iterators:false, has-generators: false*/
    var $Users$chemerisuk$git$better$dom$src$util$selectormatcher$$rquickIs = /^(\w*)(?:#([\w\-]+))?(?:\[([\w\-\=]+)\])?(?:\.([\w\-]+))?$/,
        $Users$chemerisuk$git$better$dom$src$util$selectormatcher$$propName = "m oM msM mozM webkitM".split(" ").reduce(function(result, prefix)  {
                var propertyName = prefix + "atchesSelector";

                return result || $Users$chemerisuk$git$better$dom$src$const$$HTML[propertyName] &amp;&amp; propertyName;
            }, null);

    var $Users$chemerisuk$git$better$dom$src$util$selectormatcher$$default = function(selector, context) {
        if (typeof selector !== "string") return null;

        var quick = $Users$chemerisuk$git$better$dom$src$util$selectormatcher$$rquickIs.exec(selector);

        if (quick) {
            //   0  1    2   3          4
            // [ _, tag, id, attribute, class ]
            if (quick[1]) quick[1] = quick[1].toLowerCase();
            if (quick[3]) quick[3] = quick[3].split("=");
            if (quick[4]) quick[4] = " " + quick[4] + " ";
        }

        return function(node) {var $D$3;var $D$4;
            var result, found;

            if (!quick &amp;&amp; !$Users$chemerisuk$git$better$dom$src$util$selectormatcher$$propName) {
                found = (context || document).querySelectorAll(selector);
            }

            for (; node &amp;&amp; node.nodeType === 1; node = node.parentNode) {
                if (quick) {
                    result = (
                        (!quick[1] || node.nodeName.toLowerCase() === quick[1]) &amp;&amp;
                        (!quick[2] || node.id === quick[2]) &amp;&amp;
                        (!quick[3] || (quick[3][1] ? node.getAttribute(quick[3][0]) === quick[3][1] : node.hasAttribute(quick[3][0]))) &amp;&amp;
                        (!quick[4] || (" " + node.className + " ").indexOf(quick[4]) >= 0)
                    );
                } else {
                    if ($Users$chemerisuk$git$better$dom$src$util$selectormatcher$$propName) {
                        result = node[$Users$chemerisuk$git$better$dom$src$util$selectormatcher$$propName](selector);
                    } else {
                        $D$3 = 0;$D$4 = found.length;for (var n ;$D$3 &lt; $D$4;){n = (found[$D$3++]);
                            if (n === node) return n;
                        };$D$3 = $D$4 = void 0;
                    }
                }

                if (result || !context || node === context) break;
            }

            return result &amp;&amp; node;
        };
    };

    var $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$reRemovableMethod = /^(on|do)[A-Z]/,
        $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$ANIMATION_ID = "DOM" + Date.now(),
        $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$stopExt = function(node, index)  {return function(e)  {
            var isEventValid;

            e = e || $Users$chemerisuk$git$better$dom$src$const$$WINDOW.event;

            if ($Users$chemerisuk$git$better$dom$src$const$$LEGACY_IE) {
                isEventValid = e.srcUrn === $Users$chemerisuk$git$better$dom$src$const$$CUSTOM_EVENT_TYPE &amp;&amp; e.srcElement === node;
            } else {
                isEventValid = e.animationName === $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$ANIMATION_ID &amp;&amp; e.target === node;
            }
            // mark extension as processed via e._skip bitmask
            if (isEventValid) (e._skip = e._skip || {})[index] = true;
        }},
        $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$ExtensionHandler = function(selector, condition, mixins, index)  {
            var eventHandlers = $Users$chemerisuk$git$better$dom$src$util$index$$default.keys(mixins).filter(function(prop)  {return !!$Users$chemerisuk$git$better$dom$src$util$extensionhandler$$reRemovableMethod.exec(prop)}),
                ctr = mixins.hasOwnProperty("constructor") &amp;&amp; mixins.constructor,
                ext = function(node, mock)  {
                    var el = $Users$chemerisuk$git$better$dom$src$types$$$Element(node);

                    if ($Users$chemerisuk$git$better$dom$src$const$$LEGACY_IE) {
                        node.attachEvent("on" + $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$ExtensionHandler.EVENT_TYPE, $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$stopExt(node, index));
                    } else {
                        node.addEventListener($Users$chemerisuk$git$better$dom$src$util$extensionhandler$$ExtensionHandler.EVENT_TYPE, $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$stopExt(node, index), false);
                    }

                    if (mock === true || condition(el) !== false) {
                        $Users$chemerisuk$git$better$dom$src$util$index$$default.assign(el, mixins);
                        // invoke constructor if it exists
                        // make a safe call so live extensions can't break each other
                        if (ctr) $Users$chemerisuk$git$better$dom$src$util$index$$default.safeInvoke(ctr, el);
                        // remove event handlers from element's interface
                        if (mock !== true) eventHandlers.forEach(function(prop)  { delete el[prop] });
                    }
                };

            ext.accept = $Users$chemerisuk$git$better$dom$src$util$selectormatcher$$default(selector);

            return ext;
        };

    if ($Users$chemerisuk$git$better$dom$src$const$$LEGACY_IE) {
        $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$ExtensionHandler.EVENT_TYPE = $Users$chemerisuk$git$better$dom$src$const$$CUSTOM_EVENT_TYPE;
    } else {
        $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$ExtensionHandler.ANIMATION_ID = $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$ANIMATION_ID;
        $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$ExtensionHandler.EVENT_TYPE = $Users$chemerisuk$git$better$dom$src$const$$WEBKIT_PREFIX ? "webkitAnimationEnd" : "animationend";
    }

    $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$ExtensionHandler.traverse = function(node, skip)  {return function(ext, index)  {
        // skip previously excluded or mismatched elements
        if (!skip[index] &amp;&amp; ext.accept(node)) ext(node);
    }};

    var $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$default = $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$ExtensionHandler;

    // Inspired by trick discovered by Daniel Buchner:
    // https://github.com/csuwldcat/SelectorListener

    var $Users$chemerisuk$git$better$dom$src$dom$extend$$extensions = [],
        $Users$chemerisuk$git$better$dom$src$dom$extend$$returnTrue = function()  {return true},
        $Users$chemerisuk$git$better$dom$src$dom$extend$$returnFalse = function()  {return false},
        $Users$chemerisuk$git$better$dom$src$dom$extend$$readyCallback, $Users$chemerisuk$git$better$dom$src$dom$extend$$styles;

    if ($Users$chemerisuk$git$better$dom$src$const$$LEGACY_IE) {
        var $Users$chemerisuk$git$better$dom$src$dom$extend$$link = $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.querySelector("link[rel=htc]");

        if ($Users$chemerisuk$git$better$dom$src$dom$extend$$link) {
            $Users$chemerisuk$git$better$dom$src$dom$extend$$link = $Users$chemerisuk$git$better$dom$src$dom$extend$$link.href;
        } else {
            if ("console" in $Users$chemerisuk$git$better$dom$src$const$$WINDOW) {
                $Users$chemerisuk$git$better$dom$src$const$$WINDOW.console.log("WARNING: In order to use live extensions in IE &lt; 10 you have to include extra files. See https://github.com/chemerisuk/better-dom#notes-about-old-ies for details.");
            }

            var $Users$chemerisuk$git$better$dom$src$dom$extend$$scripts = $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.scripts;
            // trying to guess HTC file location
            $Users$chemerisuk$git$better$dom$src$dom$extend$$link = $Users$chemerisuk$git$better$dom$src$dom$extend$$scripts[$Users$chemerisuk$git$better$dom$src$dom$extend$$scripts.length - 1].src.split("/");
            $Users$chemerisuk$git$better$dom$src$dom$extend$$link = "/" + $Users$chemerisuk$git$better$dom$src$dom$extend$$link.slice(3, $Users$chemerisuk$git$better$dom$src$dom$extend$$link.length - 1).concat("better-dom.htc").join("/");
        }

        $Users$chemerisuk$git$better$dom$src$dom$extend$$styles = {behavior: "url(" + $Users$chemerisuk$git$better$dom$src$dom$extend$$link + ") !important"};

        // append behavior for HTML element to apply several legacy IE-specific fixes
        $Users$chemerisuk$git$better$dom$src$dom$importstyles$$default("html", $Users$chemerisuk$git$better$dom$src$dom$extend$$styles);

        $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.attachEvent("on" + $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$default.EVENT_TYPE, function()  {
            var e = $Users$chemerisuk$git$better$dom$src$const$$WINDOW.event;

            if (e.srcUrn === $Users$chemerisuk$git$better$dom$src$const$$CUSTOM_EVENT_TYPE) {
                $Users$chemerisuk$git$better$dom$src$dom$extend$$extensions.forEach($Users$chemerisuk$git$better$dom$src$util$extensionhandler$$default.traverse(e.srcElement, e._skip || {}));
            }
        });
    } else {
        var $Users$chemerisuk$git$better$dom$src$dom$extend$$readyState = $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.readyState;
        // IE10 and lower don't handle "interactive" properly... use a weak inference to detect it
        // discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15
        if ($Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.attachEvent ? $Users$chemerisuk$git$better$dom$src$dom$extend$$readyState !== "complete" : $Users$chemerisuk$git$better$dom$src$dom$extend$$readyState === "loading") {
            $Users$chemerisuk$git$better$dom$src$dom$extend$$readyCallback = function()  {
                // MUST check for the readyCallback to avoid double
                // initialization on window.onload event
                if ($Users$chemerisuk$git$better$dom$src$dom$extend$$readyCallback) {
                    $Users$chemerisuk$git$better$dom$src$dom$extend$$extensions.forEach(function(ext)  { ext.start() });

                    $Users$chemerisuk$git$better$dom$src$dom$extend$$readyCallback = null;
                }
            };

            // use DOMContentLoaded to initialize any live extension
            // AFTER the document is completely parsed to avoid quirks
            $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.addEventListener("DOMContentLoaded", $Users$chemerisuk$git$better$dom$src$dom$extend$$readyCallback, false);
            // just in case the DOMContentLoaded event fails use onload
            $Users$chemerisuk$git$better$dom$src$const$$WINDOW.addEventListener("load", $Users$chemerisuk$git$better$dom$src$dom$extend$$readyCallback, false);
        }

        $Users$chemerisuk$git$better$dom$src$dom$importstyles$$default("@" + $Users$chemerisuk$git$better$dom$src$const$$WEBKIT_PREFIX + "keyframes " + $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$default.ANIMATION_ID, "from {opacity:.99} to {opacity:1}");

        $Users$chemerisuk$git$better$dom$src$dom$extend$$styles = {
            "animation-duration": "1ms !important",
            "animation-name": $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$default.ANIMATION_ID + " !important"
        };

        $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.addEventListener($Users$chemerisuk$git$better$dom$src$util$extensionhandler$$default.EVENT_TYPE, function(e)  {
            if (e.animationName === $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$default.ANIMATION_ID) {
                $Users$chemerisuk$git$better$dom$src$dom$extend$$extensions.forEach($Users$chemerisuk$git$better$dom$src$util$extensionhandler$$default.traverse(e.target, e._skip || {}));
            }
        }, false);
    }

    /**
     * Declare a live extension
     * @memberof DOM
     * @alias DOM.extend
     * @param  {String}           selector         css selector of which elements to capture
     * @param  {Boolean|Function} [condition=true] indicates if live extension should be attached or not
     * @param  {Object}           mixins           extension declatation
     * @see https://github.com/chemerisuk/better-dom/wiki/Live-extensions
     * @example
     * DOM.extend("selector", {
     *     constructor: function() {
     *         // initialize component
     *     },
     *     publicMethod: function() {
     *         // ...
     *     }
     * });
     */
    $Users$chemerisuk$git$better$dom$src$types$$DOM.extend = function(selector, condition, mixins) {
        if (arguments.length === 2) {
            mixins = condition;
            condition = true;
        }

        if (typeof condition === "boolean") condition = condition ? $Users$chemerisuk$git$better$dom$src$dom$extend$$returnTrue : $Users$chemerisuk$git$better$dom$src$dom$extend$$returnFalse;
        if (typeof mixins === "function") mixins = {constructor: mixins};

        if (!mixins || typeof mixins !== "object" || typeof condition !== "function") throw new $Users$chemerisuk$git$better$dom$src$errors$$StaticMethodError("extend");

        if (selector === "*") {
            // extending element prototype
            $Users$chemerisuk$git$better$dom$src$util$index$$default.assign($Users$chemerisuk$git$better$dom$src$types$$$Element.prototype, mixins);
        } else {
            var ext = $Users$chemerisuk$git$better$dom$src$util$extensionhandler$$default(selector, condition, mixins, $Users$chemerisuk$git$better$dom$src$dom$extend$$extensions.length);

            ext.start = function()  {
                // initialize extension manually to make sure that all elements
                // have appropriate methods before they are used in other DOM.extend.
                // Also fixes legacy IEs when the HTC behavior is already attached
                $Users$chemerisuk$git$better$dom$src$util$index$$default.each.call($Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.querySelectorAll(selector), ext);
                // MUST be after querySelectorAll because of legacy IEs quirks
                $Users$chemerisuk$git$better$dom$src$types$$DOM.importStyles(selector, $Users$chemerisuk$git$better$dom$src$dom$extend$$styles);
            };

            $Users$chemerisuk$git$better$dom$src$dom$extend$$extensions.push(ext);

            if (!$Users$chemerisuk$git$better$dom$src$dom$extend$$readyCallback) ext.start();
        }
    };

    var $Users$chemerisuk$git$better$dom$src$dom$extend$$default = $Users$chemerisuk$git$better$dom$src$dom$extend$$extensions;

    var $Users$chemerisuk$git$better$dom$src$dom$format$$reVar = /\{([\w\-]+)\}/g;

    /**
     * Formats template using a variables map
     * @memberof DOM
     * @alias DOM.format
     * @param  {String}  tmpl    template string
     * @param  {Object}  varMap  key/value map of variables
     * @return {String}  a resulting string
     * @example
     * DOM.format("foo {name}", {name: "bar"}); // => "foo bar"
     * DOM.format("your {0}", ["title"]); // => "your title"
     */
    $Users$chemerisuk$git$better$dom$src$types$$DOM.format = function(tmpl, varMap) {
        if (typeof tmpl !== "string") throw new $Users$chemerisuk$git$better$dom$src$errors$$StaticMethodError("format");

        if (!varMap || typeof varMap !== "object") varMap = {};

        return tmpl.replace($Users$chemerisuk$git$better$dom$src$dom$format$$reVar, function(x, name)  {return name in varMap ? String(varMap[name]) : x});
    };

    /**
     * Import external scripts on the page and call optional callback when it will be done
     * @memberof DOM
     * @alias DOM.importScripts
     * @param {...String} urls       script file urls
     * @param {Function}  [callback] callback that is triggered when all scripts are loaded
     * @example
     * DOM.importScripts("http://cdn/script1.js", function() {
     *     // do something when the script is loaded
     * });
     * // loading several scripts sequentially
     * DOM.importScripts("http://cdn/script2.js", "http://cdn/script3.js");
     */
    $Users$chemerisuk$git$better$dom$src$types$$DOM.importScripts = function() {var urls = SLICE$0.call(arguments, 0);
        var callback = function() {
            var arg = urls.shift(),
                argType = typeof arg,
                script;

            if (argType === "string") {
                script = $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.createElement("script");
                script.src = arg;
                script.onload = callback;
                script.async = true;

                $Users$chemerisuk$git$better$dom$src$util$index$$default.injectElement(script);
            } else if (argType === "function") {
                arg();
            } else if (arg) {
                throw new $Users$chemerisuk$git$better$dom$src$errors$$StaticMethodError("importScripts");
            }
        };

        callback();
    };

    var $Users$chemerisuk$git$better$dom$src$dom$mock$$applyExtensions = function(node)  {
            $Users$chemerisuk$git$better$dom$src$dom$extend$$default.forEach(function(ext)  { if (ext.accept(node)) ext(node, true) });

            $Users$chemerisuk$git$better$dom$src$util$index$$default.each.call(node.children, $Users$chemerisuk$git$better$dom$src$dom$mock$$applyExtensions);
        },
        $Users$chemerisuk$git$better$dom$src$dom$mock$$makeMethod = function(all)  {return function(content, varMap) {
            if (!content) return new $Users$chemerisuk$git$better$dom$src$types$$$NullElement();

            var result = $Users$chemerisuk$git$better$dom$src$types$$DOM["create" + all](content, varMap);

            if (all) {
                result.forEach(function(el)  { $Users$chemerisuk$git$better$dom$src$dom$mock$$applyExtensions(el[0]) });
            } else {
                $Users$chemerisuk$git$better$dom$src$dom$mock$$applyExtensions(result[0]);
            }

            return result;
        }};

    /**
     * Return {@link $Element} initialized with all existing live extensions.
     * Also exposes private event handler functions that aren't usually presented
     * Accept same arguments as {@link DOM.create}
     * @memberof DOM
     * @alias DOM.mock
     * @param  {String}       value     EmmetString or HTMLString
     * @param  {Object|Array} [varMap]  key/value map of variables
     * @return {$Element} a mocked instance
     * @function
     * @see DOM.create
     */
    $Users$chemerisuk$git$better$dom$src$types$$DOM.mock = $Users$chemerisuk$git$better$dom$src$dom$mock$$makeMethod("");

    /**
     * Return Array of {@link $Element} initialized with all existing live extensions.
     * Also exposes private event handler functions that aren't usually presented
     * Accept same arguments as {@link DOM.createAll}
     * @memberof DOM
     * @alias DOM.mockAll
     * @param  {String}       value     EmmetString or HTMLString
     * @param  {Object|Array} [varMap]  key/value map of variables
     * @return {Array.&lt;$Element>} an array of mocked element wrappers
     * @function
     * @see DOM.createAll
     */
    $Users$chemerisuk$git$better$dom$src$types$$DOM.mockAll = $Users$chemerisuk$git$better$dom$src$dom$mock$$makeMethod("All");

    var $Users$chemerisuk$git$better$dom$src$element$children$$makeMethod = function(all)  {return function(selector) {
        if (all) {
            if (selector &amp;&amp; typeof selector !== "string") throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError("children");
        } else {
            if (selector &amp;&amp; typeof selector !== "number") throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError("child");
        }

        var node = this[0],
            matcher = $Users$chemerisuk$git$better$dom$src$util$selectormatcher$$default(selector),
            children = node.children;

        if (!$Users$chemerisuk$git$better$dom$src$const$$DOM2_EVENTS) {
            // fix IE8 bug with children collection
            children = $Users$chemerisuk$git$better$dom$src$util$index$$default.filter.call(children, function(node)  {return node.nodeType === 1});
        }

        if (all) {
            if (matcher) children = $Users$chemerisuk$git$better$dom$src$util$index$$default.filter.call(children, matcher);

            return $Users$chemerisuk$git$better$dom$src$util$index$$default.map.call(children, $Users$chemerisuk$git$better$dom$src$types$$$Element);
        } else {
            if (selector &lt; 0) selector = children.length + selector;

            return $Users$chemerisuk$git$better$dom$src$types$$$Element(children[selector]);
        }
    }};

    $Users$chemerisuk$git$better$dom$src$util$index$$default.assign($Users$chemerisuk$git$better$dom$src$types$$$Element.prototype, {
        /**
         * Return child element by index filtered by optional selector
         * @memberof! $Element#
         * @alias $Element#child
         * @param  {Number} index child index
         * @return {$Element} a matched child
         * @function
         * @example
         * ul.child(0);  // => the first &lt;li>
         * ul.child(2);  // => 3th child &lt;li>
         * ul.child(-1); // => last child &lt;li>
         */
        child: $Users$chemerisuk$git$better$dom$src$element$children$$makeMethod(false),

        /**
         * Fetch children elements filtered by optional selector
         * @memberof! $Element#
         * @alias $Element#children
         * @param  {String} [selector] css selector
         * @return {Array.&lt;$Element>} an array of all matched elements
         * @function
         * @example
         * ul.children();       // => array with all child &lt;li>
         * ul.children(".foo"); // => array with of child &lt;li> with class "foo"
         */
        children: $Users$chemerisuk$git$better$dom$src$element$children$$makeMethod(true)
    });

    $Users$chemerisuk$git$better$dom$src$util$index$$default.assign($Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype, {
        child: function() {
            return new $Users$chemerisuk$git$better$dom$src$types$$$NullElement();
        },
        children: function() {
            return [];
        }
    });

    /* es6-transpiler has-iterators:false, has-generators: false */

    var $Users$chemerisuk$git$better$dom$src$element$classes$$reSpace = /[\n\t\r]/g,
        $Users$chemerisuk$git$better$dom$src$element$classes$$makeMethod = function(nativeMethodName, strategy)  {
            var methodName = nativeMethodName === "contains" ? "hasClass" : nativeMethodName + "Class";

            if ($Users$chemerisuk$git$better$dom$src$const$$HTML.classList) {
                // use native classList property if possible
                strategy = function(el, token) {
                    return el[0].classList[nativeMethodName](token);
                };
            }

            if (methodName === "hasClass" || methodName === "toggleClass") {
                return function(token, force) {
                    if (typeof force === "boolean" &amp;&amp; methodName === "toggleClass") {
                        this[force ? "addClass" : "removeClass"](token);

                        return force;
                    }

                    if (typeof token !== "string") throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError(methodName);

                    return strategy(this, token);
                };
            } else {
                return function() {var $D$5;var $D$6;
                    var tokens = arguments;

                    $D$5 = 0;$D$6 = tokens.length;for (var token ;$D$5 &lt; $D$6;){token = (tokens[$D$5++]);
                        if (typeof token !== "string") throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError(methodName);

                        strategy(this, token);
                    };$D$5 = $D$6 = void 0;

                    return this;
                };
            }
        },
        $Users$chemerisuk$git$better$dom$src$element$classes$$methods = {
            /**
             * Check if element contains class name
             * @memberof! $Element#
             * @alias $Element#hasClass
             * @param  {String}   token class name
             * @return {Boolean}  returns &lt;code>true&lt;/code> if the element contains the class
             * @function
             * @example
             * link.hasClass("foo");
             */
            hasClass: $Users$chemerisuk$git$better$dom$src$element$classes$$makeMethod("contains", function(el, token)  {
                return (" " + el[0].className + " ")
                    .replace($Users$chemerisuk$git$better$dom$src$element$classes$$reSpace, " ").indexOf(" " + token + " ") >= 0;
            }),

            /**
             * Add class(es) to element
             * @memberof! $Element#
             * @alias $Element#addClass
             * @param  {...String} tokens class name(s)
             * @return {$Element}
             * @function
             * @example
             * link.addClass("foo", "bar");
             */
            addClass: $Users$chemerisuk$git$better$dom$src$element$classes$$makeMethod("add", function(el, token)  {
                if (!el.hasClass(token)) el[0].className += " " + token;
            }),

            /**
             * Remove class(es) from element
             * @memberof! $Element#
             * @alias $Element#removeClass
             * @param  {...String} tokens class name(s)
             * @return {$Element}
             * @function
             * @example
             * link.removeClass("foo", "bar");
             */
            removeClass: $Users$chemerisuk$git$better$dom$src$element$classes$$makeMethod("remove", function(el, token)  {
                el[0].className = (" " + el[0].className + " ")
                    .replace($Users$chemerisuk$git$better$dom$src$element$classes$$reSpace, " ").replace(" " + token + " ", " ").trim();
            }),

            /**
             * Toggle a class on element
             * @memberof! $Element#
             * @alias $Element#toggleClass
             * @param  {String}  token class name
             * @param  {Boolean} [force] if &lt;code>true&lt;/code> then adds the className; if &lt;code>false&lt;/code> - removes it
             * @return {Boolean} returns &lt;code>true&lt;/code> if the className is now present, and &lt;code>false&lt;/code> otherwise.
             * @function
             * @example
             * link.toggleClass("foo");
             * link.toggleClass("bar", true);
             */
            toggleClass: $Users$chemerisuk$git$better$dom$src$element$classes$$makeMethod("toggle", function(el, token)  {
                var hasClass = el.hasClass(token);

                if (hasClass) {
                    el.removeClass(token);
                } else {
                    el[0].className += " " + token;
                }

                return !hasClass;
            })
        };

    $Users$chemerisuk$git$better$dom$src$util$index$$default.assign($Users$chemerisuk$git$better$dom$src$types$$$Element.prototype, $Users$chemerisuk$git$better$dom$src$element$classes$$methods);

    $Users$chemerisuk$git$better$dom$src$util$index$$default.keys($Users$chemerisuk$git$better$dom$src$element$classes$$methods).forEach(function(methodName)  {
        $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype[methodName] = function() {
            if (methodName === "hasClass" || methodName === "toggleClass") {
                return false;
            } else {
                return this;
            }
        };
    });

    /**
     * Clone element
     * @memberof! $Element#
     * @alias $Element#clone
     * @param {Boolean} [deep=true] &lt;code>true&lt;/code> if all children should also be cloned, or &lt;code>false&lt;/code> otherwise
     * @return {$Element} a clone of current element
     * @example
     * ul.clone();      // => clone of &lt;ul> with all it's children
     * ul.clone(false); // => clone of &lt;ul> element ONLY
     */
    $Users$chemerisuk$git$better$dom$src$types$$$Element.prototype.clone = function() {var deep = arguments[0];if(deep === void 0)deep = true;
        if (typeof deep !== "boolean") throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError("clone");

        var node = this[0], result;

        if ($Users$chemerisuk$git$better$dom$src$const$$DOM2_EVENTS) {
            result = new $Users$chemerisuk$git$better$dom$src$types$$$Element(node.cloneNode(deep));
        } else {
            result = $Users$chemerisuk$git$better$dom$src$types$$DOM.create(node.outerHTML);

            if (!deep) result.set("innerHTML", "");
        }

        return result;
    };

    $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype.clone = function() {
        return new $Users$chemerisuk$git$better$dom$src$types$$$NullElement();
    };

    /**
     * Check if element is inside of context
     * @memberof! $Element#
     * @alias $Element#contains
     * @param  {$Element} element element to check
     * @return {Boolean} returns &lt;code>true&lt;/code> if success and &lt;code>false&lt;/code> otherwise
     * @example
     * DOM.contains(DOM.find("body")); // => true
     * DOM.find("body").contains(DOM); // => false
     */
    $Users$chemerisuk$git$better$dom$src$types$$$Element.prototype.contains = function(element) {
        var node = this[0];

        if (element instanceof $Users$chemerisuk$git$better$dom$src$types$$$Element) {
            var otherNode = element[0];

            if (otherNode === node) return true;

            if (node.contains) {
                return node.contains(otherNode);
            } else {
                return node.compareDocumentPosition(otherNode) &amp; 16;
            }
        }

        throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError("contains");
    };

    $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype.contains = function() {
        return false;
    };

    /**
     * CSS properties accessor for an element
     * @memberof! $Element#
     * @alias $Element#css
     * @param  {String|Object}      name    style property name or key/value object
     * @param  {String|cssCallback} [value] style property value or {@link cssCallback}
     * @return {String|$Element} a property value or reference to &lt;code>this&lt;/code>
     * @example
     * link.css("color");                 // => element color property
     * link.css("box-sizing");            // => value of "box-sizing" (no vendor prefix needed)
     * link.css("color", "red");          // update element color
     * link.css("animation-delay", "1s"); // update animation-delay (no vendor prefix needed)
     */
    $Users$chemerisuk$git$better$dom$src$types$$$Element.prototype.css = function(name, value) {var this$0 = this;
        var len = arguments.length,
            node = this[0],
            style = node.style,
            nameType = typeof name,
            hook, computed, appendCssText;

        if (len === 1 &amp;&amp; (nameType === "string" || $Users$chemerisuk$git$better$dom$src$util$index$$default.isArray(name))) {
            value = (nameType === "string" ? [name] : name).reduce(function(memo, name)  {
                hook = $Users$chemerisuk$git$better$dom$src$util$stylehooks$$default.get[name];
                value = hook ? hook(style) : style[name];

                if (!computed &amp;&amp; !value) {
                    style = $Users$chemerisuk$git$better$dom$src$util$index$$default.computeStyle(node);
                    value = hook ? hook(style) : style[name];

                    computed = true;
                }

                memo[name] = value;

                return memo;
            }, {});

            return nameType === "string" ? value[name] : value;
        }

        appendCssText = function(key, value)  {
            var hook = $Users$chemerisuk$git$better$dom$src$util$stylehooks$$default.set[key];

            if (typeof value === "function") {
                value = value.call(this$0, this$0.css(key));
            }

            if (value == null) value = "";

            if (hook) {
                hook(style, value);
            } else {
                style[key] = typeof value === "number" ? value + "px" : value.toString();
            }
        };

        if (len === 1 &amp;&amp; name &amp;&amp; nameType === "object") {
            $Users$chemerisuk$git$better$dom$src$util$index$$default.keys(name).forEach(function(key)  { appendCssText(key, name[key]) });
        } else if (len === 2 &amp;&amp; nameType === "string") {
            appendCssText(name, value);
        } else {
            throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError("css");
        }

        return this;
    };

    $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype.css = function(name) {
        if (arguments.length !== 1 || typeof name !== "string" &amp;&amp; !$Users$chemerisuk$git$better$dom$src$util$index$$default.isArray(name)) {
            return this;
        }
    };

    // big part of code inspired by Sizzle:
    // https://github.com/jquery/sizzle/blob/master/sizzle.js

    var $Users$chemerisuk$git$better$dom$src$element$find$$rquick = $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.getElementsByClassName ? /^(?:(\w+)|\.([\w\-]+))$/ : /^(?:(\w+))$/,
        $Users$chemerisuk$git$better$dom$src$element$find$$rescape = /'|\\/g,
        $Users$chemerisuk$git$better$dom$src$element$find$$tmpId = "DOM" + Date.now(),
        $Users$chemerisuk$git$better$dom$src$element$find$$makeMethod = function(all)  {return function(selector) {
            if (typeof selector !== "string") throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError("find" + all);

            var node = this[0],
                quickMatch = $Users$chemerisuk$git$better$dom$src$element$find$$rquick.exec(selector),
                result, old, nid, context;

            if (quickMatch) {
                if (quickMatch[1]) {
                    // speed-up: "TAG"
                    result = node.getElementsByTagName(selector);
                } else {
                    // speed-up: ".CLASS"
                    result = node.getElementsByClassName(quickMatch[2]);
                }

                if (result &amp;&amp; !all) result = result[0];
            } else {
                old = true;
                nid = $Users$chemerisuk$git$better$dom$src$element$find$$tmpId;
                context = node;

                if (this !== $Users$chemerisuk$git$better$dom$src$types$$DOM) {
                    // qSA works strangely on Element-rooted queries
                    // We can work around this by specifying an extra ID on the root
                    // and working up from there (Thanks to Andrew Dupont for the technique)
                    if ( (old = node.getAttribute("id")) ) {
                        nid = old.replace($Users$chemerisuk$git$better$dom$src$element$find$$rescape, "\\$&amp;");
                    } else {
                        node.setAttribute("id", nid);
                    }

                    nid = "[id='" + nid + "'] ";
                    selector = nid + selector.split(",").join("," + nid);
                }

                try {
                    result = context["querySelector" + all](selector);
                } finally {
                    if (!old) node.removeAttribute("id");
                }
            }

            return all ? $Users$chemerisuk$git$better$dom$src$util$index$$default.map.call(result, $Users$chemerisuk$git$better$dom$src$types$$$Element) : $Users$chemerisuk$git$better$dom$src$types$$$Element(result);
        }};

    $Users$chemerisuk$git$better$dom$src$util$index$$default.assign($Users$chemerisuk$git$better$dom$src$types$$$Element.prototype, {
        /**
         * Find the first matched element by css selector
         * @memberof! $Element#
         * @alias $Element#find
         * @param  {String} selector css selector
         * @return {$Element} the first matched element
         * @function
         * @example
         * var body = DOM.find("body");  // => &lt;body> wrapper
         * var foo  = body.find(".foo"); // => the first element with class "foo"
         * foo.find(".bar>span");        // => the first element that matches ".bar>span"
         */
        find: $Users$chemerisuk$git$better$dom$src$element$find$$makeMethod(""),

        /**
         * Find all matched elements by css selector
         * @memberof! $Element#
         * @alias $Element#findAll
         * @param  {String} selector css selector
         * @return {Array.&lt;$Element>} an array of element wrappers
         * @function
         * @example
         * DOM.findAll("a");         // => all links in the document
         * context.findAll("ol>li"); // => all &lt;li> inside of &lt;ol>
         */
        findAll: $Users$chemerisuk$git$better$dom$src$element$find$$makeMethod("All")
    });

    $Users$chemerisuk$git$better$dom$src$util$index$$default.assign($Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype, {
        find: function() {
            return new $Users$chemerisuk$git$better$dom$src$types$$$NullElement();
        },
        findAll: function() {
            return [];
        }
    });

    var $Users$chemerisuk$git$better$dom$src$util$eventhooks$$hooks = {};

    if ("onfocusin" in $Users$chemerisuk$git$better$dom$src$const$$HTML) {
        $Users$chemerisuk$git$better$dom$src$util$eventhooks$$hooks.focus = function(handler)  { handler._type = "focusin" };
        $Users$chemerisuk$git$better$dom$src$util$eventhooks$$hooks.blur = function(handler)  { handler._type = "focusout" };
    } else {
        // firefox doesn't support focusin/focusout events
        $Users$chemerisuk$git$better$dom$src$util$eventhooks$$hooks.focus = $Users$chemerisuk$git$better$dom$src$util$eventhooks$$hooks.blur = function(handler)  { handler.capturing = true };
    }

    if ($Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.createElement("input").validity) {
        $Users$chemerisuk$git$better$dom$src$util$eventhooks$$hooks.invalid = function(handler)  { handler.capturing = true };
    }

    if (!$Users$chemerisuk$git$better$dom$src$const$$DOM2_EVENTS) {
        // fix non-bubbling form events for IE8
        ["submit", "change", "reset"].forEach(function(name)  {
            $Users$chemerisuk$git$better$dom$src$util$eventhooks$$hooks[name] = function(handler)  { handler._type = $Users$chemerisuk$git$better$dom$src$const$$CUSTOM_EVENT_TYPE };
        });
    }

    var $Users$chemerisuk$git$better$dom$src$util$eventhooks$$default = $Users$chemerisuk$git$better$dom$src$util$eventhooks$$hooks;

    /*
     * Helper type to create an event handler
     */

    var $Users$chemerisuk$git$better$dom$src$util$eventhandler$$EventHandler = function(type, selector, callback, props, el, once)  {
            var node = el[0],
                hook = $Users$chemerisuk$git$better$dom$src$util$eventhooks$$default[type],
                matcher = $Users$chemerisuk$git$better$dom$src$util$selectormatcher$$default(selector, node),
                handler = function(e)  {
                    e = e || $Users$chemerisuk$git$better$dom$src$const$$WINDOW.event;
                    // early stop in case of default action
                    if ($Users$chemerisuk$git$better$dom$src$util$eventhandler$$EventHandler.skip === type) return;
                    // handle custom events in legacy IE
                    if (handler._type === $Users$chemerisuk$git$better$dom$src$const$$CUSTOM_EVENT_TYPE &amp;&amp; e.srcUrn !== type) return;
                    // srcElement can be null in legacy IE when target is document
                    var target = e.target || e.srcElement || $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT,
                        currentTarget = matcher ? matcher(target) : node,
                        eventArgs = e._args || [],
                        args = props;

                    // early stop for late binding or when target doesn't match selector
                    if (!currentTarget) return;

                    // off callback even if it throws an exception later
                    if (once) el.off(type, callback);

                    args = !args ? eventArgs : args.map(function(name)  {
                        if (typeof name === "number") return eventArgs[name - 1];

                        if (!$Users$chemerisuk$git$better$dom$src$const$$DOM2_EVENTS) {
                            switch (name) {
                            case "which":
                                return e.keyCode;
                            case "button":
                                var button = e.button;
                                // click: 1 === left; 2 === middle; 3 === right
                                return button &amp; 1 ? 1 : ( button &amp; 2 ? 3 : ( button &amp; 4 ? 2 : 0 ) );
                            case "pageX":
                                return e.clientX + $Users$chemerisuk$git$better$dom$src$const$$HTML.scrollLeft - $Users$chemerisuk$git$better$dom$src$const$$HTML.clientLeft;
                            case "pageY":
                                return e.clientY + $Users$chemerisuk$git$better$dom$src$const$$HTML.scrollTop - $Users$chemerisuk$git$better$dom$src$const$$HTML.clientTop;
                            }
                        }

                        switch (name) {
                        case "type":
                            return type;
                        case "defaultPrevented":
                            // IE8 and Android 2.3 use returnValue instead of defaultPrevented
                            return "defaultPrevented" in e ? e.defaultPrevented : e.returnValue === false;
                        case "target":
                            return $Users$chemerisuk$git$better$dom$src$types$$$Element(target);
                        case "currentTarget":
                            return $Users$chemerisuk$git$better$dom$src$types$$$Element(currentTarget);
                        case "relatedTarget":
                            return $Users$chemerisuk$git$better$dom$src$types$$$Element(e.relatedTarget || e[(e.toElement === node ? "from" : "to") + "Element"]);
                        }

                        return e[name];
                    });

                    // if props is not specified then prepend extra arguments
                    if (callback.apply(el, args) === false) {
                        // prevent default if handler returns false
                        if ($Users$chemerisuk$git$better$dom$src$const$$DOM2_EVENTS) {
                            e.preventDefault();
                        } else {
                            e.returnValue = false;
                        }
                    }
                };

            if (hook) handler = hook(handler, type) || handler;
            // handle custom events for IE8
            if (!$Users$chemerisuk$git$better$dom$src$const$$DOM2_EVENTS &amp;&amp; !("on" + (handler._type || type) in node)) {
                handler._type = $Users$chemerisuk$git$better$dom$src$const$$CUSTOM_EVENT_TYPE;
            }

            handler.type = selector ? type + " " + selector : type;
            handler.callback = callback;

            return handler;
        };

    var $Users$chemerisuk$git$better$dom$src$util$eventhandler$$default = $Users$chemerisuk$git$better$dom$src$util$eventhandler$$EventHandler;

    /**
     * Triggers an event of specific type with optional extra arguments
     * @memberof! $Element#
     * @alias $Element#fire
     * @param  {String}  type  type of event
     * @param  {...Object}     [args]  extra arguments to pass into each event handler
     * @return {Boolean} returns &lt;code>true&lt;/code> if default action wasn't prevented
     * @example
     * link.fire("click");                   // fire click event
     * link.fire("my:event", {a: "b"}, 123); // fire "my:event" with arguments
     */
    $Users$chemerisuk$git$better$dom$src$types$$$Element.prototype.fire = function(type) {var args = SLICE$0.call(arguments, 1);
        var node = this[0],
            eventType = typeof type,
            handler = {},
            hook, e, canContinue;

        if (eventType === "string") {
            if (hook = $Users$chemerisuk$git$better$dom$src$util$eventhooks$$default[type]) {
                handler = hook(handler) || handler;
            }

            eventType = handler._type || type;
        } else {
            throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError("fire");
        }

        if ($Users$chemerisuk$git$better$dom$src$const$$DOM2_EVENTS) {
            e = $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.createEvent("HTMLEvents");
            e.initEvent(eventType, true, true);
            e._args = args;

            canContinue = node.dispatchEvent(e);
        } else {
            e = $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.createEventObject();
            e._args = args;
            // handle custom events for legacy IE
            if (!("on" + eventType in node)) eventType = $Users$chemerisuk$git$better$dom$src$const$$CUSTOM_EVENT_TYPE;
            // store original event type
            if (eventType === $Users$chemerisuk$git$better$dom$src$const$$CUSTOM_EVENT_TYPE) e.srcUrn = type;

            node.fireEvent("on" + eventType, e);

            canContinue = e.returnValue !== false;
        }

        // Call native method. IE&lt;9 dies on focus/blur to hidden element
        if (canContinue &amp;&amp; node[type] &amp;&amp; (type !== "focus" &amp;&amp; type !== "blur" || node.offsetWidth)) {
            // Prevent re-triggering of the same event
            $Users$chemerisuk$git$better$dom$src$util$eventhandler$$default.skip = type;

            node[type]();

            $Users$chemerisuk$git$better$dom$src$util$eventhandler$$default.skip = null;
        }

        return canContinue;
    };

    $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype.fire = function() {
        return false;
    };

    var $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$hooks = {get: {}, set: {}};

    // fix camel cased attributes
    "tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" ").forEach(function(key)  {
        $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$hooks.get[ key.toLowerCase() ] = function(node)  {return node[key]};
    });

    // style hook
    $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$hooks.get.style = function(node)  {return node.style.cssText};
    $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$hooks.set.style = function(node, value)  { node.style.cssText = value };

    // title hook for DOM
    $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$hooks.get.title = function(node)  {return node === $Users$chemerisuk$git$better$dom$src$const$$HTML ? $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.title : node.title};
    $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$hooks.set.title = function(node, value)  { (node === $Users$chemerisuk$git$better$dom$src$const$$HTML ? $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT : node).title = value; };

    $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$hooks.get.undefined = function(node)  {
        var name;

        switch (node.tagName) {
        case "SELECT":
            return ~node.selectedIndex ? node.options[ node.selectedIndex ].value : "";

        case "OPTION":
            name = node.hasAttribute("value") ? "value" : "text";
            break;

        default:
            name = node.type &amp;&amp; "value" in node ? "value" : "innerHTML";
        }

        return node[name];
    };

    $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$hooks.set.value = function(node, value) {
        if (node.tagName === "SELECT") {
            // selectbox has special case
            if ($Users$chemerisuk$git$better$dom$src$util$index$$default.every.call(node.options, function(o)  {return !(o.selected = o.value === value)})) {
                node.selectedIndex = -1;
            }
        } else {
            // for IE use innerText for textareabecause it doesn't trigger onpropertychange
            node[$Users$chemerisuk$git$better$dom$src$const$$DOM2_EVENTS || node.type !== "textarea" ? "value" : "innerText"] = value;
        }
    };

    // some browsers don't recognize input[type=email] etc.
    $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$hooks.get.type = function(node)  {return node.getAttribute("type") || node.type};

    // IE8 has innerText but not textContent
    if (!$Users$chemerisuk$git$better$dom$src$const$$DOM2_EVENTS) {
        $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$hooks.get.textContent = function(node)  {return node.innerText};
        $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$hooks.set.textContent = function(node, value)  { node.innerText = value };
    }

    var $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$default = $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$hooks;

    var $Users$chemerisuk$git$better$dom$src$element$get$$reDash = /[A-Z]/g,
        $Users$chemerisuk$git$better$dom$src$element$get$$getPrivateProperty = function(node, key)  {
            // convert from camel case to dash-separated value
            var value = node.getAttribute("data-" + key.replace($Users$chemerisuk$git$better$dom$src$element$get$$reDash, function(l)  {return "-" + l.toLowerCase()}));

            if (value != null) {
                // try to recognize and parse  object notation syntax
                if (value[0] === "{" &amp;&amp; value[value.length - 1] === "}") {
                    try {
                        value = JSON.parse(value);
                    } catch (err) { }
                }
            }

            return value;
        };

    /**
     * Get property or attribute value by name
     * @memberof! $Element#
     * @alias $Element#get
     * @param  {String|Array} [name] property or attribute name or array of names
     * @return {String|Object} a value of property or attribute
     * @example
     * link.get("title");       // => property title
     * link.get("data-custom"); // => custom attribute data-custom
     * link.get();              // => link's innerHTML
     * link.get("_prop");       // => private property _prop
     */
    $Users$chemerisuk$git$better$dom$src$types$$$Element.prototype.get = function(name) {var this$0 = this;
        var node = this[0],
            hook = $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$default.get[name];

        if (hook) return hook(node, name);

        if (typeof name === "string") {
            if (name in node) {
                return node[name];
            } else if (name[0] !== "_") {
                return node.getAttribute(name);
            } else {
                var key = name.substr(1),
                    data = this._,
                    value;

                if (key in data) {
                    value = data[key];
                } else {
                    value = data[key] = $Users$chemerisuk$git$better$dom$src$element$get$$getPrivateProperty(node, key);
                }

                return value;
            }
        } else if ($Users$chemerisuk$git$better$dom$src$util$index$$default.isArray(name)) {
            return name.reduce(function(r, key)  { return (r[key] = this$0.get(key), r) }, {});
        } else {
            throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError("get");
        }
    };

    $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype.get = function() {};

    var $Users$chemerisuk$git$better$dom$src$element$manipulation$$makeMethod = function(methodName, fasterMethodName, standalone, strategy)  {return function() {var content = arguments[0];if(content === void 0)content = "";
            var node = this[0];

            if (!standalone &amp;&amp; (!node.parentNode || content === $Users$chemerisuk$git$better$dom$src$types$$DOM)) return this;

            if (typeof content === "function") content = content.call(this);

            if (typeof content === "string") {
                if (content) {
                    // parse HTML string for the replace method
                    if (fasterMethodName) {
                        content = content.trim();
                    } else {
                        content = $Users$chemerisuk$git$better$dom$src$types$$DOM.create(content)[0];
                    }
                }
            } else if (content instanceof $Users$chemerisuk$git$better$dom$src$types$$$Element) {
                content = content[0];
            } else if ($Users$chemerisuk$git$better$dom$src$util$index$$default.isArray(content)) {
                content = content.reduce(function(fragment, el)  {
                    fragment.appendChild(el[0]);

                    return fragment;
                }, $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.createDocumentFragment());
            } else {
                throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError(methodName);
            }

            if (content &amp;&amp; typeof content === "string") {
                node.insertAdjacentHTML(fasterMethodName, content);
            } else {
                if (content || !fasterMethodName) strategy(node, content);
            }

            return this;
        }},
        $Users$chemerisuk$git$better$dom$src$element$manipulation$$methods = {
            /**
             * Insert HTMLString or {@link $Element} after the current element
             * @memberof! $Element#
             * @alias $Element#after
             * @param {Mixed} content HTMLString, {@link $Element}, Array.&lt;{@link $Element}> or function
             * @return {$Element}
             * @function
             * @example
             * var link = DOM.create("a");  // &lt;a>&lt;/a>
             * link.after(DOM.create("b")); // &lt;a>&lt;/a>&lt;b>&lt;/b>
             */
            after: $Users$chemerisuk$git$better$dom$src$element$manipulation$$makeMethod("after", "afterend", false, function(node, relatedNode)  {
                node.parentNode.insertBefore(relatedNode, node.nextSibling);
            }),

            /**
             * Insert HTMLString or {@link $Element} before the current element
             * @memberof! $Element#
             * @alias $Element#before
             * @param {Mixed} content HTMLString, {@link $Element}, Array.&lt;{@link $Element}> or function
             * @return {$Element}
             * @function
             * @example
             * var link = DOM.create("a");   // &lt;a>&lt;/a>
             * link.before(DOM.create("b")); // &lt;b>&lt;/b>&lt;a>&lt;/a>
             */
            before: $Users$chemerisuk$git$better$dom$src$element$manipulation$$makeMethod("before", "beforebegin", false, function(node, relatedNode)  {
                node.parentNode.insertBefore(relatedNode, node);
            }),

            /**
             * Prepend HTMLString or {@link $Element} to the current element
             * @memberof! $Element#
             * @alias $Element#prepend
             * @param {Mixed} content HTMLString, {@link $Element}, Array.&lt;{@link $Element}> or function
             * @return {$Element}
             * @function
             * @example
             * var link = DOM.create("a>`foo`"); // &lt;a>foo&lt;/a>
             * link.prepend(DOM.create("b"));    // &lt;a>&lt;b>&lt;/b>foo&lt;/a>
             */
            prepend: $Users$chemerisuk$git$better$dom$src$element$manipulation$$makeMethod("prepend", "afterbegin", true, function(node, relatedNode)  {
                node.insertBefore(relatedNode, node.firstChild);
            }),

            /**
             * Append HTMLString or {@link $Element} to the current element
             * @memberof! $Element#
             * @alias $Element#append
             * @param {Mixed} content HTMLString, {@link $Element}, Array.&lt;{@link $Element}> or function
             * @return {$Element}
             * @function
             * @example
             * var link = DOM.create("a>`foo`"); // &lt;a>foo&lt;/a>
             * link.append(DOM.create("b"));     // &lt;a>foo&lt;b>&lt;/b>&lt;/a>
             */
            append: $Users$chemerisuk$git$better$dom$src$element$manipulation$$makeMethod("append", "beforeend", true, function(node, relatedNode)  {
                node.appendChild(relatedNode);
            }),

            /**
             * Replace current element with HTMLString or {@link $Element}
             * @memberof! $Element#
             * @alias $Element#replace
             * @param {Mixed} content HTMLString, {@link $Element}, Array.&lt;{@link $Element}> or function
             * @return {$Element}
             * @function
             * @example
             * var div = DOM.create("div>span>`foo`");      // &lt;div>&lt;span>foo&lt;/span>&lt;/div>
             * div.child(0).replace(DOM.create("b>`bar`")); // &lt;div>&lt;b>bar&lt;/b>&lt;/div>
             */
            replace: $Users$chemerisuk$git$better$dom$src$element$manipulation$$makeMethod("replace", "", false, function(node, relatedNode)  {
                node.parentNode.replaceChild(relatedNode, node);
            }),

            /**
             * Remove current element from the DOM
             * @memberof! $Element#
             * @alias $Element#remove
             * @return {$Element}
             * @function
             * @example
             * var foo = DOM.find(".foo");
             * foo.remove();
             * DOM.contains(foo); // => false
             */
            remove: $Users$chemerisuk$git$better$dom$src$element$manipulation$$makeMethod("remove", "", false, function(node)  {
                node.parentNode.removeChild(node);
            })
        };

    $Users$chemerisuk$git$better$dom$src$util$index$$default.assign($Users$chemerisuk$git$better$dom$src$types$$$Element.prototype, $Users$chemerisuk$git$better$dom$src$element$manipulation$$methods);

    $Users$chemerisuk$git$better$dom$src$util$index$$default.keys($Users$chemerisuk$git$better$dom$src$element$manipulation$$methods).forEach(function(methodName)  {
        $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype[methodName] = function() {
            return this;
        };
    });

    var $Users$chemerisuk$git$better$dom$src$util$selectorhooks$$hooks = {};

    $Users$chemerisuk$git$better$dom$src$util$selectorhooks$$hooks[":focus"] = function(node)  {return node === $Users$chemerisuk$git$better$dom$src$const$$DOCUMENT.activeElement};

    $Users$chemerisuk$git$better$dom$src$util$selectorhooks$$hooks[":hidden"] = function(node)  {
        if (node.getAttribute("aria-hidden") === "true") return true;

        var computed = $Users$chemerisuk$git$better$dom$src$util$index$$default.computeStyle(node);

        return computed.visibility === "hidden" ||
            computed.display === "none" || !$Users$chemerisuk$git$better$dom$src$const$$HTML.contains(node);
    };

    $Users$chemerisuk$git$better$dom$src$util$selectorhooks$$hooks[":visible"] = function(node)  {return !$Users$chemerisuk$git$better$dom$src$util$selectorhooks$$hooks[":hidden"](node)};

    var $Users$chemerisuk$git$better$dom$src$util$selectorhooks$$default = $Users$chemerisuk$git$better$dom$src$util$selectorhooks$$hooks;

    /**
     * Check if the element matches selector
     * @memberof! $Element#
     * @alias $Element#matches
     * @param  {String}   selector  css selector for checking
     * @return {Boolean} returns &lt;code>true&lt;/code> if success and &lt;code>false&lt;/code> otherwise
     * @example
     * DOM.find("body").matches("html>body"); // => true
     * DOM.find("body").matches("body>html"); // => false
     */
    $Users$chemerisuk$git$better$dom$src$types$$$Element.prototype.matches = function(selector) {
        if (!selector || typeof selector !== "string") throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError("matches");

        var checker = $Users$chemerisuk$git$better$dom$src$util$selectorhooks$$default[selector] || $Users$chemerisuk$git$better$dom$src$util$selectormatcher$$default(selector);

        return !!checker(this[0], this);
    };

    $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype.matches = function() {
        return false;
    };

    /**
     * Unbind an event from the element
     * @memberOf module:events
     * @param  {String}          type type of event
     * @param  {Function|String} [callback] event handler
     * @return {$Element}
     */
    $Users$chemerisuk$git$better$dom$src$types$$$Element.prototype.off = function(type, callback) {
        if (typeof type !== "string") throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError("off");

        var node = this[0];

        this._._handlers = this._._handlers.filter(function(handler)  {
            if (type !== handler.type || callback &amp;&amp; callback !== handler.callback) return true;

            type = handler._type || handler.type;

            if ($Users$chemerisuk$git$better$dom$src$const$$DOM2_EVENTS) {
                node.removeEventListener(type, handler, !!handler.capturing);
            } else {
                node.detachEvent("on" + type, handler);
            }
        });

        return this;
    };

    $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype.off = function() {
        return this;
    };

    /**
     * Calculates offset of the current element
     * @memberof! $Element#
     * @alias $Element#offset
     * @return {Object} object with left, top, bottom, right, width and height properties
     * @example
     * el.offset(); // => {left: 1, top: 2, right: 3, bottom: 4, width: 2, height: 2}
     */
    $Users$chemerisuk$git$better$dom$src$types$$$Element.prototype.offset = function() {
        var node = this[0],
            clientTop = $Users$chemerisuk$git$better$dom$src$const$$HTML.clientTop,
            clientLeft = $Users$chemerisuk$git$better$dom$src$const$$HTML.clientLeft,
            scrollTop = $Users$chemerisuk$git$better$dom$src$const$$WINDOW.pageYOffset || $Users$chemerisuk$git$better$dom$src$const$$HTML.scrollTop,
            scrollLeft = $Users$chemerisuk$git$better$dom$src$const$$WINDOW.pageXOffset || $Users$chemerisuk$git$better$dom$src$const$$HTML.scrollLeft,
            boundingRect = node.getBoundingClientRect();

        return {
            top: boundingRect.top + scrollTop - clientTop,
            left: boundingRect.left + scrollLeft - clientLeft,
            right: boundingRect.right + scrollLeft - clientLeft,
            bottom: boundingRect.bottom + scrollTop - clientTop,
            width: boundingRect.right - boundingRect.left,
            height: boundingRect.bottom - boundingRect.top
        };
    };

    $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype.offset = function() {
        return { top : 0, left : 0, right : 0, bottom : 0, width : 0, height : 0 };
    };

    var $Users$chemerisuk$git$better$dom$src$element$on$$makeMethod = function(method)  {return function(type, selector, props, callback) {var this$0 = this;
            if (typeof type === "string") {
                if (typeof props === "function") {
                    callback = props;

                    if (typeof selector === "string") {
                        props = null;
                    } else {
                        props = selector;
                        selector = null;
                    }
                }

                if (typeof selector === "function") {
                    callback = selector;
                    selector = null;
                    props = null;
                }

                if (typeof callback !== "function") {
                    throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError(method);
                }

                var node = this[0],
                    handler = $Users$chemerisuk$git$better$dom$src$util$eventhandler$$default(type, selector, callback, props, this, method === "once");

                if (handler) {
                    if ($Users$chemerisuk$git$better$dom$src$const$$DOM2_EVENTS) {
                        node.addEventListener(handler._type || type, handler, !!handler.capturing);
                    } else {
                        node.attachEvent("on" + (handler._type || type), handler);
                    }
                    // store event entry
                    this._._handlers.push(handler);
                }
            } else if (typeof type === "object") {
                if ($Users$chemerisuk$git$better$dom$src$util$index$$default.isArray(type)) {
                    type.forEach(function(name)  { this$0[method](name, selector, props, callback) });
                } else {
                    $Users$chemerisuk$git$better$dom$src$util$index$$default.keys(type).forEach(function(name)  { this$0[method](name, type[name]) });
                }
            } else {
                throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError(method);
            }

            return this;
        }},
        $Users$chemerisuk$git$better$dom$src$element$on$$methods = {
            /**
             * Bind a DOM event
             * @memberof! $Element#
             * @alias $Element#on
             * @param  {String|Array}  type        event type(s) with optional selector
             * @param  {String}        [selector]  event selector filter
             * @param  {Array}         [props]     array of event properties to pass into the callback
             * @param  {Function}      callback    event callback or property name (for late binding)
             * @return {$Element}
             * @function
             * @example
             * link.on("focus", function() {
             *     // do something on focus
             * });
             *
             * link.on("click", "i", function() {
             *     // do something on internal &lt;i> click
             * });
             *
             * link.on("click", "span", ["currentTarget"], function(span) {
             *     // &lt;span> is the element was clicked
             * });
             *
             * link.on(["focus", "blur"], function() {
             *     // you can pass several event types
             * });
             */
            on: $Users$chemerisuk$git$better$dom$src$element$on$$makeMethod("on"),

            /**
             * Bind a DOM event but fire once before being removed. Same as
             * {@link $Element#on}, but removes the handler after a first event
             * @memberof! $Element#
             * @alias $Element#once
             * @param  {String|Array}  type        event type(s) with optional selector
             * @param  {String}        [selector]  event selector filter
             * @param  {Array}         [props]     array of event properties to pass into the callback
             * @param  {Function}      callback    event callback or property name (for late binding)
             * @return {$Element}
             * @function
             * @see $Element#on
             */
            once: $Users$chemerisuk$git$better$dom$src$element$on$$makeMethod("once")
        };

    $Users$chemerisuk$git$better$dom$src$util$index$$default.assign($Users$chemerisuk$git$better$dom$src$types$$$Element.prototype, $Users$chemerisuk$git$better$dom$src$element$on$$methods);

    $Users$chemerisuk$git$better$dom$src$util$index$$default.keys($Users$chemerisuk$git$better$dom$src$element$on$$methods).forEach(function(methodName)  {
        $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype[methodName] = function() {
            return this;
        };
    });

    /**
     * Set property/attribute value by name
     * @memberof! $Element#
     * @alias $Element#set
     * @param {String|Object|Array}   [name]  property/attribute name
     * @param {String|setterCallback} value   property/attribute value or {@link setterCallback}
     * @return {$Element}
     * @example
     * link.set("title", "mytitle"); // set title property
     * link.set("data-custom");      // set custom attribute data-custom
     * link.set("inner html");       // set link's innerHTML
     * link.set("_prop", {a: "b"});  // update private property _prop
     */
    $Users$chemerisuk$git$better$dom$src$types$$$Element.prototype.set = function(name, value) {var this$0 = this;
        var node = this[0];

        // handle the value shortcut
        if (arguments.length === 1) {
            if (typeof name === "function") {
                value = name;
            } else {
                value = name == null ? "" : String(name);
            }

            if (value !== "[object Object]") {
                var tag = node.tagName;

                if (tag === "INPUT" || tag === "TEXTAREA" ||  tag === "SELECT" || tag === "OPTION") {
                    name = "value";
                } else {
                    name = "innerHTML";
                }
            }
        }

        var hook = $Users$chemerisuk$git$better$dom$src$util$accessorhooks$$default.set[name],
            watchers = this._._watchers[name],
            oldValue;

        if (watchers || typeof value === "function") {
            oldValue = this.get(name);
        }

        if (typeof name === "string") {
            if (name[0] === "_") {
                this._[name.substr(1)] = value;
            } else {
                if (typeof value === "function") {
                    value = value.call(this, oldValue);
                }

                if (hook) {
                    hook(node, value);
                } else if (value == null) {
                    node.removeAttribute(name);
                } else if (name in node) {
                    node[name] = value;
                } else {
                    node.setAttribute(name, value);
                }

                // always trigger reflow manually for IE8 and legacy Android
                if (!$Users$chemerisuk$git$better$dom$src$const$$DOM2_EVENTS || $Users$chemerisuk$git$better$dom$src$const$$LEGACY_ANDROID) node.className = node.className;
            }
        } else if ($Users$chemerisuk$git$better$dom$src$util$index$$default.isArray(name)) {
            name.forEach(function(key)  { this$0.set(key, value) });
        } else if (typeof name === "object") {
            $Users$chemerisuk$git$better$dom$src$util$index$$default.keys(name).forEach(function(key)  { this$0.set(key, name[key]) });
        } else {
            throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError("set");
        }

        if (watchers &amp;&amp; oldValue !== value) {
            watchers.forEach(function(w)  {
                $Users$chemerisuk$git$better$dom$src$util$index$$default.safeInvoke(w, this$0, value, oldValue);
            });
        }

        return this;
    };

    $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype.set = function() {
        return this;
    };

    var $Users$chemerisuk$git$better$dom$src$element$traversing$$makeMethod = function(methodName, propertyName, all)  {return function(selector) {
            if (selector &amp;&amp; typeof selector !== "string") throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError(methodName);

            var matcher = $Users$chemerisuk$git$better$dom$src$util$selectormatcher$$default(selector),
                nodes = all ? [] : null,
                it = this[0];

            if (it &amp;&amp; methodName !== "closest") it = it[propertyName];

            for (; it; it = it[propertyName]) {
                if (it.nodeType === 1 &amp;&amp; (!matcher || matcher(it))) {
                    if (!all) break;

                    nodes.push(it);
                }
            }

            return all ? $Users$chemerisuk$git$better$dom$src$util$index$$default.map.call(nodes, $Users$chemerisuk$git$better$dom$src$types$$$Element) : $Users$chemerisuk$git$better$dom$src$types$$$Element(it);
        }},
        $Users$chemerisuk$git$better$dom$src$element$traversing$$methods = {
            /**
             * Find next sibling element filtered by optional selector
             * @memberof! $Element#
             * @alias $Element#next
             * @param {String} [selector] css selector
             * @return {$Element} matched element wrapper
             * @function
             * @example
             * var div = DOM.create("div>a+b+i"); // &lt;div>&lt;a>&lt;/a>&lt;b>&lt;/b>&lt;i>&lt;/i>&lt;/div>
             * var link = div.child(0);           // &lt;a>
             * link.next();                       // &lt;b>
             * link.next("i");                    // &lt;i>
             */
            next: $Users$chemerisuk$git$better$dom$src$element$traversing$$makeMethod("next", "nextSibling"),

            /**
             * Find previous sibling element filtered by optional selector
             * @memberof! $Element#
             * @alias $Element#prev
             * @param {String} [selector] css selector
             * @return {$Element} matched element wrapper
             * @function
             * @example
             * var div = DOM.create("div>b+i+a"); // &lt;div>&lt;b>&lt;/b>&lt;i>&lt;/i>&lt;a>&lt;/a>&lt;/div>
             * var link = div.child(-1);          // &lt;a>
             * link.prev();                       // &lt;i>
             * link.prev("b");                    // &lt;b>
             */
            prev: $Users$chemerisuk$git$better$dom$src$element$traversing$$makeMethod("prev", "previousSibling"),

            /**
             * Find all next sibling elements filtered by optional selector
             * @memberof! $Element#
             * @alias $Element#nextAll
             * @param {String} [selector] css selector
             * @return {Array.&lt;$Element>} an array of all matched element wrappers
             * @function
             * @example
             * var div = DOM.create("div>a+i+b+i"); // &lt;div>&lt;a>&lt;/a>&lt;i>&lt;/i>&lt;b>&lt;/b>&lt;i>&lt;/i>&lt;/div>
             * var link = DOM.child(0);             // &lt;a>
             * link.nextAll();                      // [&lt;i>, &lt;b>, &lt;i>]
             * link.nextAll("i");                   // [&lt;i>, &lt;i>]
             */
            nextAll: $Users$chemerisuk$git$better$dom$src$element$traversing$$makeMethod("nextAll", "nextSibling", true),

            /**
             * Find all previous sibling elements filtered by optional selector
             * @memberof! $Element#
             * @alias $Element#prevAll
             * @param {String} [selector] css selector
             * @return {Array.&lt;$Element>} an array of all matched element wrappers
             * @function
             * @example
             * var div = DOM.create("div>a+i+b+i"); // &lt;div>&lt;i>&lt;/i>&lt;b>&lt;/b>&lt;i>&lt;/i>&lt;a>&lt;/a>&lt;/div>
             * var link = DOM.child(-1);            // &lt;a>
             * link.prevAll();                      // [&lt;i>, &lt;b>, &lt;i>]
             * link.prevAll("b");                   // [&lt;b>]
             */
            prevAll: $Users$chemerisuk$git$better$dom$src$element$traversing$$makeMethod("prevAll", "previousSibling", true),

            /**
             * Find the closest ancestor of the current element (or the current element itself) which matches selector
             * @memberof! $Element#
             * @alias $Element#closest
             * @param {String} [selector] css selector
             * @return {$Element} matched element wrapper
             * @function
             * @example
             * var div = DOM.create("div.foo>div.bar>a"); // &lt;div class="foo">&lt;div class="bar">&lt;a>&lt;/a>&lt;/div>&lt;/div>
             * var link = div.find("a");                  // => &lt;a>
             * link.closest("a");                         // => itself
             * link.closest(".bar");                      // => &lt;div class="bar">
             * link.closest(".foo");                      // => &lt;div class="foo">
             */
            closest: $Users$chemerisuk$git$better$dom$src$element$traversing$$makeMethod("closest", "parentNode")
        };

    $Users$chemerisuk$git$better$dom$src$util$index$$default.assign($Users$chemerisuk$git$better$dom$src$types$$$Element.prototype, $Users$chemerisuk$git$better$dom$src$element$traversing$$methods);

    $Users$chemerisuk$git$better$dom$src$util$index$$default.keys($Users$chemerisuk$git$better$dom$src$element$traversing$$methods).forEach(function(methodName)  {
        $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype[methodName] = function() {
            if (methodName.slice(-3) === "All") {
                return [];
            } else {
                return new $Users$chemerisuk$git$better$dom$src$types$$$NullElement();
            }
        };
    });

    // Legacy Android is too slow and has a lot of bugs in the CSS animations
    // implementation, so skip any animations for it
    var $Users$chemerisuk$git$better$dom$src$element$visibility$$ANIMATIONS_ENABLED = !$Users$chemerisuk$git$better$dom$src$const$$LEGACY_ANDROID &amp;&amp; !$Users$chemerisuk$git$better$dom$src$const$$LEGACY_IE,
        $Users$chemerisuk$git$better$dom$src$element$visibility$$TRANSITION_PROPS = ["timing-function", "property", "duration", "delay"].map(function(p)  {return "transition-" + p}),
        $Users$chemerisuk$git$better$dom$src$element$visibility$$TRANSITION_EVENT_TYPE = $Users$chemerisuk$git$better$dom$src$const$$WEBKIT_PREFIX ? "webkitTransitionEnd" : "transitionend",
        $Users$chemerisuk$git$better$dom$src$element$visibility$$ANIMATION_EVENT_TYPE = $Users$chemerisuk$git$better$dom$src$const$$WEBKIT_PREFIX ? "webkitAnimationEnd" : "animationend",
        $Users$chemerisuk$git$better$dom$src$element$visibility$$parseTimeValue = function(value)  {
            var result = parseFloat(value) || 0;
            // if duration is in seconds, then multiple result value by 1000
            return !result || value.slice(-2) === "ms" ? result : result * 1000;
        },
        $Users$chemerisuk$git$better$dom$src$element$visibility$$calcTransitionDuration = function(style)  {
            var delay = $Users$chemerisuk$git$better$dom$src$util$stylehooks$$default.get["transition-delay"](style).split(","),
                duration = $Users$chemerisuk$git$better$dom$src$util$stylehooks$$default.get["transition-duration"](style).split(",");

            return Math.max.apply(Math, duration.map(function(value, index)  {
                return $Users$chemerisuk$git$better$dom$src$element$visibility$$parseTimeValue(value) + ($Users$chemerisuk$git$better$dom$src$element$visibility$$parseTimeValue(delay[index]) || 0);
            }));
        },
        $Users$chemerisuk$git$better$dom$src$element$visibility$$scheduleTransition = function(node, style, computed, hiding, done)  {
            var duration = $Users$chemerisuk$git$better$dom$src$element$visibility$$calcTransitionDuration(computed);

            if (!duration) return false; // skip transitions with zero duration

            var visibilityTransitionIndex, transitionValues;

            transitionValues = $Users$chemerisuk$git$better$dom$src$element$visibility$$TRANSITION_PROPS.map(function(prop, index)  {
                // have to use regexp to split transition-timing-function value
                return $Users$chemerisuk$git$better$dom$src$util$stylehooks$$default.get[prop](computed).split(index ? ", " : /, (?!\d)/);
            });

            // try to find existing or use 0s length or make a new visibility transition
            visibilityTransitionIndex = transitionValues[1].indexOf("visibility");
            if (visibilityTransitionIndex &lt; 0) visibilityTransitionIndex = transitionValues[2].indexOf("0s");
            if (visibilityTransitionIndex &lt; 0) visibilityTransitionIndex = transitionValues[0].length;

            transitionValues[0][visibilityTransitionIndex] = "linear";
            transitionValues[1][visibilityTransitionIndex] = "visibility";
            transitionValues[hiding ? 2 : 3][visibilityTransitionIndex] = "0s";
            transitionValues[hiding ? 3 : 2][visibilityTransitionIndex] = duration + "ms";

            // now set target duration and delay
            transitionValues.forEach(function(value, index)  {
                $Users$chemerisuk$git$better$dom$src$util$stylehooks$$default.set[$Users$chemerisuk$git$better$dom$src$element$visibility$$TRANSITION_PROPS[index]](style, value.join(", "));
            });

            node.addEventListener($Users$chemerisuk$git$better$dom$src$element$visibility$$TRANSITION_EVENT_TYPE, function completeTransition(e) {
                if (e.propertyName === "visibility") {
                    e.stopPropagation(); // this is an internal transition

                    node.removeEventListener($Users$chemerisuk$git$better$dom$src$element$visibility$$TRANSITION_EVENT_TYPE, completeTransition, true);

                    style.willChange = ""; // remove temporary properties

                    done();
                }
            }, true);

            // make sure that the visibility property will be changed
            // so reset it to appropriate value with zero
            style.visibility = hiding ? "inherit" : "hidden";
            // use willChange to improve performance in modern browsers:
            // http://dev.opera.com/articles/css-will-change-property/
            style.willChange = transitionValues[1].join(", ");

            return true;
        },
        $Users$chemerisuk$git$better$dom$src$element$visibility$$scheduleAnimation = function(node, style, computed, animationName, hiding, done)  {
            var duration = $Users$chemerisuk$git$better$dom$src$element$visibility$$parseTimeValue($Users$chemerisuk$git$better$dom$src$util$stylehooks$$default.get["animation-duration"](computed));

            if (!duration) return false; // skip animations with zero duration

            node.addEventListener($Users$chemerisuk$git$better$dom$src$element$visibility$$ANIMATION_EVENT_TYPE, function completeAnimation(e) {
                if (e.animationName === animationName) {
                    e.stopPropagation(); // this is an internal animation

                    node.removeEventListener($Users$chemerisuk$git$better$dom$src$element$visibility$$ANIMATION_EVENT_TYPE, completeAnimation, true);

                    $Users$chemerisuk$git$better$dom$src$util$stylehooks$$default.set["animation-name"](style, ""); // remove temporary animation

                    done();
                }
            }, true);

            // trigger animation start
            $Users$chemerisuk$git$better$dom$src$util$stylehooks$$default.set["animation-direction"](style, hiding ? "normal" : "reverse");
            $Users$chemerisuk$git$better$dom$src$util$stylehooks$$default.set["animation-name"](style, animationName);

            return true;
        },
        $Users$chemerisuk$git$better$dom$src$element$visibility$$makeMethod = function(name, condition)  {return function(animationName, callback) {var this$0 = this;
            if (typeof animationName !== "string") {
                callback = animationName;
                animationName = null;
            }

            if (callback &amp;&amp; typeof callback !== "function") {
                throw new $Users$chemerisuk$git$better$dom$src$errors$$MethodError(name);
            }

            var node = this[0],
                style = node.style,
                computed = $Users$chemerisuk$git$better$dom$src$util$index$$default.computeStyle(node),
                visibility = computed.visibility,
                displayValue = computed.display,
                hiding = condition,
                done = function()  {
                    // Check equality of the flag and aria-hidden to recognize
                    // cases when an animation was toggled in the intermediate
                    // state. Don't need to proceed in such situation
                    if (String(hiding) === node.getAttribute("aria-hidden")) {
                        // remove element from the flow when animation is done
                        if (hiding &amp;&amp; animationName) {
                            if (animatable) {
                                style.visibility = "hidden";
                            } else {
                                style.display = "none";
                            }
                        }

                        if (callback) callback.call(this$0);
                    }
                },
                animatable;

            if (typeof hiding !== "boolean") {
                hiding = displayValue !== "none" &amp;&amp; visibility !== "hidden" &amp;&amp;
                    node.getAttribute("aria-hidden") !== "true";
            }

            if ($Users$chemerisuk$git$better$dom$src$element$visibility$$ANIMATIONS_ENABLED) {
                // Use offsetWidth to trigger reflow of the element.
                // Fixes animation of an element inserted into the DOM
                //
                // Opera 12 has an issue with animations as well,
                // so need to trigger reflow manually for it
                //
                // Thanks for the idea from Jonathan Snook's plugin:
                // https://github.com/snookca/prepareTransition

                if (!hiding) visibility = node.offsetWidth;

                if (animationName) {
                    animatable = $Users$chemerisuk$git$better$dom$src$element$visibility$$scheduleAnimation(node, style, computed, animationName, hiding, done);
                } else {
                    animatable = $Users$chemerisuk$git$better$dom$src$element$visibility$$scheduleTransition(node, style, computed, hiding, done);
                }
            }

            // handle old browsers or cases when there no animation
            if (hiding) {
                if (displayValue !== "none" &amp;&amp; !animatable) {
                    this._._display = displayValue;
                    // we'll hide element later in the done call
                }
            } else {
                if (displayValue === "none" &amp;&amp; !animatable) {
                    // restore display property value
                    style.display = this._._display || "inherit";
                }
            }

            // update element visibility value
            // for CSS3 animation element should always be visible
            // use value "inherit" to respect parent container visibility
            style.visibility = hiding &amp;&amp; !animationName ? "hidden" : "inherit";
            // trigger CSS3 transition if it exists
            this.set("aria-hidden", String(hiding));
            // must be AFTER changing the aria-hidden attribute
            if (!animatable) done();

            return this;
        }},
        $Users$chemerisuk$git$better$dom$src$element$visibility$$methods = {
            /**
             * Show an element using CSS3 transition or animation
             * @memberof! $Element#
             * @alias $Element#show
             * @param {String}   [animationName]  CSS animation to apply during transition
             * @param {Function} [callback]       function that executes when animation is done
             * @return {$Element}
             * @function
             * @example
             * link.show(); // displays element
             *
             * foo.show(function() {
             *   // do something when transition is completed
             * });
             *
             * bar.show("fade", function() {
             *   // do something when "fade" animation is completed
             * });
             */
            show: $Users$chemerisuk$git$better$dom$src$element$visibility$$makeMethod("show", false),

            /**
             * Hide an element using CSS3 transition or animation
             * @memberof! $Element#
             * @alias $Element#hide
             * @param {String}   [animationName]  CSS animation to apply during transition
             * @param {Function} [callback]       function that executes when animation is done
             * @return {$Element}
             * @function
             * @example
             * link.hide(); // hides element
             *
             * foo.hide(function() {
             *   // do something when transition is completed
             * });
             *
             * bar.hide("fade", function() {
             *   // do something when "fade" animation is completed
             * });
             */
            hide: $Users$chemerisuk$git$better$dom$src$element$visibility$$makeMethod("hide", true),

            /**
             * Toggle an element using CSS3 transition or animation
             * @memberof! $Element#
             * @alias $Element#toggle
             * @param {String}   [animationName]  CSS animation to apply during transition
             * @param {Function} [callback]       function that executes when animation is done
             * @return {$Element}
             * @function
             * @example
             * link.toggle(); // toggles element visibility
             *
             * foo.toggle(function() {
             *   // do something when transition is completed
             * });
             *
             * bar.toggle("fade", function() {
             *   // do something when "fade" animation is completed
             * });
             */
            toggle: $Users$chemerisuk$git$better$dom$src$element$visibility$$makeMethod("toggle")
        };

    $Users$chemerisuk$git$better$dom$src$util$index$$default.assign($Users$chemerisuk$git$better$dom$src$types$$$Element.prototype, $Users$chemerisuk$git$better$dom$src$element$visibility$$methods);

    $Users$chemerisuk$git$better$dom$src$util$index$$default.keys($Users$chemerisuk$git$better$dom$src$element$visibility$$methods).forEach(function(methodName)  {
        $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype[methodName] = function() {
            return this;
        };
    });

    /**
     * Callback function for watching changes of a property/attribute
     * @callback watchCallback
     * @param {Object} newValue a current value
     * @param {Object} oldValue a previous value
     */

    var $Users$chemerisuk$git$better$dom$src$element$watch$$methods = {
            /**
             * Watch for changes of a particular property/attribute
             * @memberof! $Element#
             * @alias $Element#watch
             * @param  {String}        name     property/attribute name
             * @param  {watchCallback} callback function for watching changes of the property/attribute
             * @return {$Element}
             * @example
             * targetInput.watch("value", function(value, oldValue) {
             *     // do what you want AFTER the value of targetInput was changed
             * });
             */
            watch: function(name, callback) {
                var watchers = this._._watchers;

                if (!watchers[name]) watchers[name] = [];

                watchers[name].push(callback);

                return this;
            },

            /**
             * Disable watching of a particular property/attribute
             * @memberof! $Element#
             * @alias $Element#unwatch
             * @param  {String}        name     property/attribute name
             * @param  {watchCallback} callback function for watching changes of the property/attribute
             * @return {$Element}
             * @see $Element#watch
             */
            unwatch: function(name, callback) {
                var watchers = this._._watchers;

                if (watchers[name]) {
                    watchers[name] = watchers[name].filter(function(w)  {return w !== callback});
                }

                return this;
            }
        };

    $Users$chemerisuk$git$better$dom$src$util$index$$default.assign($Users$chemerisuk$git$better$dom$src$types$$$Element.prototype, $Users$chemerisuk$git$better$dom$src$element$watch$$methods);

    $Users$chemerisuk$git$better$dom$src$util$index$$default.keys($Users$chemerisuk$git$better$dom$src$element$watch$$methods).forEach(function(methodName)  {
        $Users$chemerisuk$git$better$dom$src$types$$$NullElement.prototype[methodName] = function() {
            return this;
        };
    });
})();</code></pre>
        </article>
    </section>






        
        <!-- disqus code -->
        <div id="disqus_thread"></div>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        <!-- // disqus code -->
        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Thu Oct 02 2014 18:23:54 GMT+0300 (FET)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
